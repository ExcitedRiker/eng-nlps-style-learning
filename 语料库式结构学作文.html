<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ¥å…°ç‰æ•° - æ™ºèƒ½è¯­è¨€æ•™è‚²å¹³å°</title>
    <!-- å¤–éƒ¨åº“ CDN åŠ è½½ - æ”¯æŒæœ¬åœ°æ–‡ä»¶ç›´æ¥æ‰“å¼€ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="english-learning.css">
    <link rel="stylesheet" href="liquid-glass.css">
    <!-- Google Fonts for better typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ============ ä¸»é¢˜ç³»ç»Ÿ ============ */
        :root {
            /* å“ç‰Œä¸»è‰²è°ƒ - å›ºå®šä¸å˜ */
            --brand-primary: rgb(139, 38, 68);
            --brand-dark: rgb(109, 28, 52);
            --brand-light: rgb(169, 58, 88);
            --accent-gold: #C9A227;
        }
        
        /* ============ æµ…è‰²æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ ============ */
        [data-theme="light"] {
            --primary-red: rgb(139, 38, 68);
            --primary-dark: rgb(109, 28, 52);
            --primary-light: rgb(169, 58, 88);
            --text-gray: #5A5A5A;
            --bg-light: #F5F5F5;
            --bg-white: #FFFFFF;
            --text-dark: #333333;
            --border-color: #E0E0E0;
            
            /* æµ…è‰²æ¨¡å¼ç‰¹æœ‰ */
            --bg-body: #F5F5F5;
            --bg-card: #FFFFFF;
            --bg-input: #FFFFFF;
            --bg-sidebar: rgba(139, 38, 68, 0.95);
            --bg-header: rgba(139, 38, 68, 0.95);
            --text-primary: #333333;
            --text-secondary: #666666;
            --text-muted: #999999;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.9);
            --glass-border: rgba(0, 0, 0, 0.1);
            --input-bg: rgba(255, 255, 255, 0.95);
            --input-border: rgba(0, 0, 0, 0.15);
            --input-text: #333333;
            --card-bg: #FFFFFF;
            --warning-bg: #fff3cd;
            --info-bg: #e3f2fd;
        }
        
        /* ============ æ·±è‰²æ¨¡å¼ ============ */
        [data-theme="dark"] {
            --primary-red: rgb(180, 70, 100);
            --primary-dark: rgb(139, 38, 68);
            --primary-light: rgb(200, 90, 120);
            --text-gray: #a0a0a0;
            --bg-light: #1a1a2e;
            --bg-white: #252538;
            --text-dark: #e0e0e0;
            --border-color: rgba(255, 255, 255, 0.1);
            
            /* æ·±è‰²æ¨¡å¼ç‰¹æœ‰ */
            --bg-body: #0f0a12;
            --bg-card: rgba(255, 255, 255, 0.04);
            --bg-input: rgba(255, 255, 255, 0.08);
            --bg-sidebar: rgba(139, 38, 68, 0.85);
            --bg-header: rgba(139, 38, 68, 0.9);
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-muted: #808080;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --glass-bg: rgba(255, 255, 255, 0.06);
            --glass-border: rgba(255, 255, 255, 0.1);
            --input-bg: rgba(255, 255, 255, 0.08);
            --input-border: rgba(255, 255, 255, 0.15);
            --input-text: #e0e0e0;
            --card-bg: rgba(255, 255, 255, 0.04);
            --warning-bg: rgba(255, 193, 7, 0.15);
            --info-bg: rgba(100, 181, 246, 0.15);
        }
        
        /* é»˜è®¤ä½¿ç”¨æ·±è‰²æ¨¡å¼ */
        :root {
            --primary-red: rgb(180, 70, 100);
            --primary-dark: rgb(139, 38, 68);
            --primary-light: rgb(200, 90, 120);
            --text-gray: #a0a0a0;
            --bg-light: #1a1a2e;
            --bg-white: #252538;
            --text-dark: #e0e0e0;
            --border-color: rgba(255, 255, 255, 0.1);
            --bg-body: #0f0a12;
            --bg-card: rgba(255, 255, 255, 0.04);
            --bg-input: rgba(255, 255, 255, 0.08);
            --bg-sidebar: rgba(139, 38, 68, 0.85);
            --bg-header: rgba(139, 38, 68, 0.9);
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-muted: #808080;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --glass-bg: rgba(255, 255, 255, 0.06);
            --glass-border: rgba(255, 255, 255, 0.1);
            --input-bg: rgba(255, 255, 255, 0.08);
            --input-border: rgba(255, 255, 255, 0.15);
            --input-text: #e0e0e0;
            --card-bg: rgba(255, 255, 255, 0.04);
            --warning-bg: rgba(255, 193, 7, 0.15);
            --info-bg: rgba(100, 181, 246, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg-body);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background 0.3s ease, color 0.3s ease;
        }
        
        /* ä¸»é¢˜åˆ‡æ¢æŒ‰é’® */
        .theme-toggle {
            position: fixed;
            top: 85px;
            right: 20px;
            z-index: 1001;
            display: flex;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            padding: 4px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .theme-btn {
            padding: 8px 16px;
            border: none;
            background: transparent;
            color: var(--text-muted);
            cursor: pointer;
            border-radius: 20px;
            font-size: 13px;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .theme-btn.active {
            background: var(--brand-primary);
            color: white;
        }
        
        .theme-btn:hover:not(.active) {
            color: var(--text-primary);
            background: var(--glass-border);
        }
        
        /* ä¿®å¤æ‰€æœ‰è¾“å…¥æ¡†æ ·å¼ */
        input, textarea, select {
            background: var(--input-bg) !important;
            color: var(--input-text) !important;
            border: 1px solid var(--input-border) !important;
            transition: background 0.2s ease, border-color 0.2s ease;
        }
        
        input::placeholder, textarea::placeholder {
            color: var(--text-muted) !important;
        }
        
        input:focus, textarea:focus, select:focus {
            background: var(--input-bg) !important;
            border-color: var(--brand-primary) !important;
            outline: none;
        }

        /* å¤´éƒ¨å¯¼èˆª */
        .header {
            background: var(--bg-header);
            box-shadow: 0 2px 10px var(--shadow-color);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-top {
            background: var(--primary-red);
            color: var(--bg-white);
            padding: 8px 0;
            font-size: 14px;
        }

        .header-top-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: flex-end;
            gap: 20px;
        }

        .header-top a {
            color: var(--bg-white);
            text-decoration: none;
            opacity: 0.9;
            transition: opacity 0.3s;
        }

        .header-top a:hover {
            opacity: 1;
        }

        .header-main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo-section img {
            height: 60px;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
        }

        .logo-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-red);
        }

        .logo-subtitle {
            font-size: 12px;
            color: var(--text-gray);
            letter-spacing: 1px;
        }

        .nav-menu {
            display: flex;
            gap: 5px;
        }

        .nav-item {
            padding: 10px 20px;
            color: var(--text-dark);
            text-decoration: none;
            font-weight: 500;
            border-radius: 4px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav-item:hover, .nav-item.active {
            background: var(--primary-red);
            color: var(--bg-white);
        }

        /* ä¸»è¦å†…å®¹åŒºåŸŸ */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        /* é¡µé¢æ ‡é¢˜åŒº */
        .page-header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-dark) 100%);
            color: var(--bg-white);
            margin: -30px -20px 30px -20px;
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="0.5"/></svg>') repeat;
            background-size: 100px;
        }

        .page-header h1 {
            font-size: 36px;
            margin-bottom: 10px;
            position: relative;
        }

        .page-header p {
            font-size: 18px;
            opacity: 0.9;
            position: relative;
        }

        /* äº§å“é€‰é¡¹å¡ */
        .product-tabs {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .product-tab {
            padding: 15px 40px;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .product-tab:hover {
            border-color: var(--primary-red);
            color: var(--primary-red);
        }

        .product-tab.active {
            background: var(--primary-red);
            border-color: var(--primary-red);
            color: var(--bg-white);
        }

        /* äº§å“é¢æ¿ */
        .product-panel {
            display: none;
        }

        .product-panel.active {
            display: block;
        }

        /* åŠŸèƒ½æ¨¡å—å®¹å™¨ */
        .feature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .feature-card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .feature-card.full-width {
            grid-column: 1 / -1;
        }

        .feature-header {
            background: linear-gradient(135deg, var(--primary-red) 0%, var(--primary-dark) 100%);
            color: var(--bg-white);
            padding: 20px;
        }

        .feature-header h3 {
            font-size: 20px;
            margin-bottom: 5px;
        }

        .feature-header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .feature-body {
            padding: 20px;
        }

        /* 3Dè¯­ä¹‰æ˜Ÿå›¾å®¹å™¨ */
        #semantic-galaxy {
            width: 100%;
            height: 500px;
            background: linear-gradient(180deg, #0a0a1a 0%, #1a1a2e 100%);
            border-radius: 8px;
            position: relative;
        }

        .galaxy-controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            z-index: 10;
            display: flex;
            gap: 10px;
        }

        .galaxy-input {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            font-size: 14px;
            width: 200px;
            backdrop-filter: blur(10px);
        }

        .galaxy-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .galaxy-btn {
            padding: 12px 25px;
            background: var(--primary-red);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .galaxy-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .galaxy-legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            color: white;
            font-size: 12px;
            backdrop-filter: blur(10px);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        /* RAGæ•™å­¦å¼•æ“ */
        .rag-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .rag-input-section {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
        }

        .rag-textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            resize: none;
            font-family: inherit;
        }

        .rag-textarea:focus {
            outline: none;
            border-color: var(--primary-red);
        }

        .rag-options {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .rag-option {
            padding: 8px 15px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
        }

        .rag-option:hover, .rag-option.active {
            background: var(--primary-red);
            color: white;
            border-color: var(--primary-red);
        }

        .rag-result-section {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
        }

        .rag-result-card {
            background: var(--card-bg);
            border-left: 4px solid var(--primary-red);
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin-bottom: 15px;
        }

        .rag-result-title {
            color: var(--primary-red);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .rag-example {
            background: #f8f8f8;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin-top: 10px;
        }

        /* Squadsæ•°æ®å·¥å‚ */
        .squads-container {
            display: grid;
            grid-template-columns: 250px 1fr 300px;
            gap: 20px;
        }

        .squads-sidebar {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
        }

        .squad-task {
            background: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            border-left: 3px solid var(--border-color);
            transition: all 0.3s;
        }

        .squad-task:hover, .squad-task.active {
            border-left-color: var(--primary-red);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .squad-task-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .squad-task-meta {
            font-size: 12px;
            color: var(--text-gray);
        }

        .squads-workspace {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
        }

        .data-item {
            background: var(--bg-light);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .data-text {
            font-size: 14px;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .annotation-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .annotation-btn {
            padding: 8px 15px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background: var(--card-bg);
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
        }

        .annotation-btn:hover {
            background: var(--primary-red);
            color: white;
            border-color: var(--primary-red);
        }

        .annotation-btn.selected {
            background: var(--primary-red);
            color: white;
            border-color: var(--primary-red);
        }

        .squads-stats {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
        }

        .stat-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 15px;
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-red);
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-gray);
        }

        .progress-bar {
            background: var(--border-color);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-red), var(--accent-gold));
            transition: width 0.5s ease;
        }

        /* æ‰¹æ”¹ç³»ç»Ÿæ ·å¼ */
        .correction-container {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
        }

        .essay-panel {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
        }

        .essay-textarea {
            width: 100%;
            min-height: 300px;
            padding: 20px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 15px;
            line-height: 2;
            resize: vertical;
            font-family: inherit;
        }

        .essay-textarea:focus {
            outline: none;
            border-color: var(--primary-red);
        }

        .essay-toolbar {
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .word-count {
            color: var(--text-gray);
            font-size: 14px;
        }

        .submit-btn {
            padding: 12px 30px;
            background: var(--primary-red);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .submit-btn:hover {
            background: var(--primary-dark);
        }

        /* RLHFæ’åºå¡ç‰‡ */
        .rlhf-panel {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
        }

        .rlhf-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .rlhf-title {
            color: var(--primary-red);
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .rlhf-subtitle {
            color: var(--text-gray);
            font-size: 14px;
        }

        .rlhf-cards {
            min-height: 300px;
        }

        .rlhf-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            cursor: grab;
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
        }

        .rlhf-card:hover {
            border-color: var(--primary-red);
            box-shadow: 0 4px 15px rgba(155, 27, 48, 0.2);
        }

        .rlhf-card.dragging {
            opacity: 0.5;
            transform: rotate(2deg);
        }

        .rlhf-card-badge {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 30px;
            height: 30px;
            background: var(--primary-red);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .rlhf-card-label {
            font-size: 12px;
            color: var(--text-gray);
            margin-bottom: 8px;
        }

        .rlhf-card-content {
            font-size: 14px;
            line-height: 1.6;
        }

        .rlhf-confirm {
            margin-top: 20px;
            text-align: center;
        }

        /* é›·è¾¾å›¾åŒºåŸŸ */
        .radar-container {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
        }

        #radar-chart {
            max-height: 300px;
        }

        .radar-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .radar-legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
        }

        .radar-legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        /* çº¢é˜Ÿæµ‹è¯•åŒºåŸŸ */
        .redteam-container {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
        }

        .redteam-suggestion {
            background: var(--bg-light);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .redteam-original {
            color: var(--text-gray);
            text-decoration: line-through;
            margin-bottom: 10px;
        }

        .redteam-revised {
            color: var(--primary-red);
            font-weight: 500;
        }

        .redteam-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .redteam-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            background: var(--card-bg);
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .redteam-btn.accept:hover {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }

        .redteam-btn.reject:hover {
            background: var(--primary-red);
            color: white;
            border-color: var(--primary-red);
        }

        .redteam-btn.debate:hover {
            background: var(--accent-gold);
            color: white;
            border-color: var(--accent-gold);
        }

        .debate-panel {
            display: none;
            background: var(--warning-bg);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--accent-gold);
        }

        .debate-panel.active {
            display: block;
        }

        .debate-input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            margin-top: 10px;
        }

        /* AIå¯¹è¯æ¡† */
        .ai-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 380px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            z-index: 1000;
            display: none;
        }

        .ai-chat.active {
            display: block;
        }

        .ai-chat-header {
            background: var(--primary-red);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-chat-title {
            font-weight: 600;
        }

        .ai-chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .ai-chat-body {
            height: 300px;
            overflow-y: auto;
            padding: 20px;
        }

        .ai-message {
            margin-bottom: 15px;
        }

        .ai-message.bot {
            padding-left: 0;
        }

        .ai-message.user {
            text-align: right;
        }

        .ai-bubble {
            display: inline-block;
            padding: 12px 16px;
            border-radius: 16px;
            max-width: 80%;
            font-size: 14px;
            line-height: 1.5;
        }

        .ai-message.bot .ai-bubble {
            background: var(--bg-light);
        }

        .ai-message.user .ai-bubble {
            background: var(--primary-red);
            color: white;
        }

        .ai-chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid var(--border-color);
        }

        .ai-chat-input input {
            flex: 1;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 25px;
            margin-right: 10px;
        }

        .ai-chat-input button {
            padding: 12px 20px;
            background: var(--primary-red);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
        }

        .ai-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--primary-red);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            box-shadow: 0 4px 20px rgba(155, 27, 48, 0.4);
            z-index: 999;
            transition: transform 0.3s;
        }

        .ai-toggle:hover {
            transform: scale(1.1);
        }

        /* é¡µè„š */
        .footer {
            background: var(--primary-dark);
            color: var(--bg-white);
            padding: 40px 0 20px;
            margin-top: 50px;
        }

        .footer-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            text-align: center;
        }

        .footer-logo {
            margin-bottom: 20px;
        }

        .footer-logo img {
            height: 50px;
            filter: brightness(0) invert(1);
        }

        .footer-text {
            opacity: 0.8;
            font-size: 14px;
        }

        /* èŠ‚ç‚¹ä¿¡æ¯æç¤º */
        .node-tooltip {
            position: absolute;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 13px;
            pointer-events: none;
            z-index: 100;
            max-width: 250px;
            display: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .node-tooltip h4 {
            color: var(--accent-gold);
            margin-bottom: 8px;
        }

        /* åŠ¨ç”» */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .feature-card {
            animation: fadeIn 0.5s ease forwards;
        }

        /* å“åº”å¼ */
        @media (max-width: 1200px) {
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .correction-container,
            .squads-container,
            .rag-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .header-main {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-menu {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .product-tabs {
                flex-direction: column;
            }
            
            .ai-chat {
                width: calc(100% - 40px);
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
    <div class="theme-toggle">
        <button class="theme-btn" data-theme="light" onclick="setTheme('light')">
            â˜€ï¸ æµ…è‰²
        </button>
        <button class="theme-btn active" data-theme="dark" onclick="setTheme('dark')">
            ğŸŒ™ æ·±è‰²
        </button>
    </div>
    
    <!-- å¤´éƒ¨ -->
    <header class="header">
        <div class="header-main">
            <div class="logo-section">
                <div class="logo-text">
                    <span class="logo-title">çŸ¥å…°ç‰æ•°</span>
                    <span class="logo-subtitle">ZHILAN YUSHU Â· INTELLIGENT LANGUAGE PLATFORM</span>
                </div>
            </div>
            <nav class="nav-menu">
                <a class="nav-item active" data-tab="learning">è‹±è¯­å­¦ä¹ </a>
                <a class="nav-item" data-tab="corpus">è¯­æ–™åº“ç³»ç»Ÿ</a>
                <a class="nav-item" data-tab="about">å…³äºæˆ‘ä»¬</a>
            </nav>
        </div>
    </header>

    <!-- ä¸»å†…å®¹ -->
    <main class="main-container">
        <!-- å·¦ä¾§è¾¹æ  - HKUSTç²¾ç¡®å¤åˆ»é£æ ¼ -->
        <aside class="sidebar">
            <!-- è¿æ–°ç³»ç»Ÿæ¨å¹¿å¡ç‰‡ -->
            <div class="sidebar-promo">
                <div class="sidebar-promo-icon">
                    <span class="icon-title">English Learning</span>
                    <span class="icon-main">ç»“æ„åŒ–å­¦ä¹ </span>
                </div>
                <div class="sidebar-promo-content">
                    <h3>æ™ºèƒ½è¯­è¨€æ•™è‚²</h3>
                    <a class="sidebar-promo-btn" onclick="document.querySelector('[data-panel=learning-panel]').click()">æŸ¥çœ‹è¯¦æƒ…</a>
                </div>
            </div>
            
            <!-- æœç´¢æ¡† -->
            <div class="sidebar-search">
                <div class="sidebar-search-wrapper">
                    <input type="text" placeholder="å¿«é€Ÿæ¢è®¿çŸ¥å…°ç‰æ•°å¹³å°">
                    <button>ğŸ”</button>
                </div>
            </div>
            
            <!-- å¿«æ·é“¾æ¥ - ä¸¤åˆ—å¸ƒå±€ -->
            <div class="sidebar-links">
                <a class="sidebar-link" onclick="document.querySelector('[data-panel=corpus-panel]').click()">è¯­æ–™åº“ç³»ç»Ÿ</a>
                <a class="sidebar-link" onclick="document.querySelector('[data-panel=learning-panel]').click()">è‹±è¯­å­¦ä¹ </a>
                <a class="sidebar-link" onclick="document.querySelector('[data-panel=corpus-panel]').click()">è¯­æ–™åº“ç³»ç»Ÿ</a>
                <a class="sidebar-link" onclick="document.querySelector('[data-panel=learning-panel]').click()">èŒƒæ–‡æ ‡æ³¨</a>
                <a class="sidebar-link" onclick="document.querySelector('[data-panel=learning-panel]').click()">AIå†™ä½œè¯„åˆ†</a>
            </div>
            
            <!-- ç‰ˆæƒä¿¡æ¯ -->
            <div class="sidebar-footer">
                <p>Â© çŸ¥å…°ç‰æ•°æ™ºèƒ½è¯­è¨€æ•™è‚²å¹³å°</p>
                <p>ğŸ“ è”ç³»æˆ‘ä»¬è·å–æ›´å¤šä¿¡æ¯</p>
                
                <div class="footer-links">
                    <a href="#">ä¿¡æ¯å…¬å¼€</a>
                    <a href="#">éšç§æ”¿ç­–</a>
                    <a href="#">è”ç³»æˆ‘ä»¬</a>
                    <a href="#">ä½¿ç”¨æŒ‡å—</a>
                </div>
                
                <div class="sidebar-social">
                    <a href="#" title="å¾®ä¿¡">ğŸ’¬</a>
                    <a href="#" title="å¾®åš">ğŸ“±</a>
                    <a href="#" title="å“”å“©å“”å“©">ğŸ“º</a>
                    <a href="#" title="æŠ–éŸ³">ğŸµ</a>
                </div>
            </div>
        </aside>
        
        <!-- å³ä¾§æ–°é—»æ ‡ç­¾ -->
        <div class="news-tab">æ–°é—»</div>
        <div class="news-tab-plus">+</div>
        
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <!-- é¡µé¢æ ‡é¢˜ -->
            <div class="page-header">
                <h1>çŸ¥å…°ç‰æ•°æ™ºèƒ½è¯­è¨€æ•™è‚²å¹³å°</h1>
                <p>ä»"å¤§æµ·æé’ˆ"åˆ°"æ˜Ÿé™…å¯¼èˆª" Â· ä»"å•å‘é€šçŸ¥"åˆ°"æ·±åº¦åšå¼ˆ" Â· æ™ºèƒ½åŒ–è¯­è¨€å­¦ä¹ æ–°ä½“éªŒ</p>
            </div>

            <!-- äº§å“é€‰é¡¹å¡ -->
            <div class="product-tabs">
            <div class="product-tab active" data-panel="learning-panel">è‹±è¯­ç»“æ„åŒ–å­¦ä¹ ä¸å†™ä½œæ‰¹æ”¹</div>
            <div class="product-tab" data-panel="corpus-panel">ç”Ÿæˆå¼è¯­æ–™åº“ç§‘ç ”ä¸æ•™å­¦ç³»ç»Ÿ</div>
        </div>

        <!-- è¯­æ–™åº“ç³»ç»Ÿé¢æ¿ -->
        <div id="corpus-panel" class="product-panel">
            <div class="feature-grid">
                <!-- 3Dè¯­ä¹‰æ˜Ÿå›¾ -->
                <div class="feature-card full-width">
                    <div class="feature-header">
                        <h3>ğŸŒŒ 3Dè¯­ä¹‰å‘é‡ç©ºé—´å¯è§†åŒ–</h3>
                        <p>å‘Šåˆ«"å¯†é›†ææƒ§ç—‡"ï¼Œç”¨æ˜Ÿäº‘å›¾ç›´è§‚æ„Ÿå—è¯ä¹‰çš„è¿œè¿‘äº²ç–</p>
                    </div>
                    <div class="feature-body">
                        <div id="semantic-galaxy">
                            <div class="galaxy-controls">
                                <input type="text" class="galaxy-input" id="word-search" placeholder="è¾“å…¥è¯æ±‡ï¼Œå¦‚ï¼šhappy">
                                <button class="galaxy-btn" onclick="searchWord()">æ¢ç´¢è¯­ä¹‰</button>
                            </div>
                            <div class="galaxy-legend">
                                <div class="legend-item"><div class="legend-dot" style="background: #ff6b6b;"></div> æƒ…æ„Ÿè¯æ±‡</div>
                                <div class="legend-item"><div class="legend-dot" style="background: #4ecdc4;"></div> åŠ¨ä½œè¯æ±‡</div>
                                <div class="legend-item"><div class="legend-dot" style="background: #ffe66d;"></div> çŠ¶æ€è¯æ±‡</div>
                                <div class="legend-item"><div class="legend-dot" style="background: #a855f7;"></div> å…³ç³»è¯æ±‡</div>
                            </div>
                            <div class="node-tooltip" id="node-tooltip"></div>
                        </div>
                    </div>
                </div>

                <!-- RAGæ™ºèƒ½æ•™å­¦å¼•æ“ -->
                <div class="feature-card full-width">
                    <div class="feature-header">
                        <h3>ğŸ¤– RAGæ™ºèƒ½æ•™å­¦å¼•æ“</h3>
                        <p>å‘Šåˆ«"æœ‰è¯æ— ç±»"ï¼Œæ™ºèƒ½è¯†åˆ«è¯­åŸŸï¼Œç”Ÿæˆè¯­ç”¨è§£æå¡ç‰‡</p>
                    </div>
                    <div class="feature-body">
                        <div class="rag-container">
                            <div class="rag-input-section">
                                <h4 style="margin-bottom: 15px;">è¯·è¾“å…¥æ‚¨æƒ³æŸ¥è¯¢çš„è¯æ±‡æˆ–çŸ­è¯­</h4>
                                <textarea class="rag-textarea" id="rag-input" placeholder="ä¾‹å¦‚ï¼šsuggest / propose / recommend&#10;&#10;æˆ–è¾“å…¥ä¸€ä¸ªå¥å­è®©AIåˆ†æå…¶è¯­åŸŸç‰¹å¾..."></textarea>
                                <div class="rag-options">
                                    <span style="color: var(--text-gray); font-size: 13px;">é€‰æ‹©è¯­åŸŸï¼š</span>
                                    <div class="rag-option active" data-register="academic">å­¦æœ¯å†™ä½œ</div>
                                    <div class="rag-option" data-register="business">å•†åŠ¡ä¿¡å‡½</div>
                                    <div class="rag-option" data-register="legal">æ³•å¾‹æ–‡ä¹¦</div>
                                    <div class="rag-option" data-register="casual">æ—¥å¸¸å¯¹è¯</div>
                                    <div class="rag-option" data-register="news">æ–°é—»æŠ¥é“</div>
                                </div>
                                <button class="submit-btn" style="margin-top: 20px; width: 100%;" onclick="analyzeRAG()">åˆ†æè¯­ç”¨ç‰¹å¾</button>
                            </div>
                            <div class="rag-result-section">
                                <h4 style="margin-bottom: 15px;">ğŸ“‹ è¯­ç”¨è§£æç»“æœ</h4>
                                <div id="rag-results">
                                    <div class="rag-result-card">
                                        <div class="rag-result-title">ğŸ’¡ æç¤º</div>
                                        <p>è¯·åœ¨å·¦ä¾§è¾“å…¥è¯æ±‡å¹¶é€‰æ‹©è¯­åŸŸï¼ŒAIå°†ä¸ºæ‚¨ç”Ÿæˆè¯¦ç»†çš„è¯­ç”¨åˆ†ææŠ¥å‘Šã€‚</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Squadsæ•°æ®å·¥å‚ -->
                <div class="feature-card full-width">
                    <div class="feature-header">
                        <h3>ğŸ­ Squadsæ•°æ®å·¥å‚æ¨¡å¼</h3>
                        <p>å‘Šåˆ«"å­¦ä¹ æ— ç”¨è®º"ï¼Œä»å­¦ç”Ÿå˜æˆè®­ç»ƒAIçš„æ•°æ®å·¥ç¨‹å¸ˆ</p>
                    </div>
                    <div class="feature-body">
                        <div class="squads-container">
                            <div class="squads-sidebar">
                                <h4 style="margin-bottom: 15px;">ğŸ“‹ ä»»åŠ¡åˆ—è¡¨</h4>
                                <div class="squad-task active" data-task="pragmatics">
                                    <div class="squad-task-title">ä¸­è‹±è¯­ç”¨å¯¹æ¯”æ ‡æ³¨</div>
                                    <div class="squad-task-meta">è¿›åº¦: 67% Â· æˆªæ­¢: 3å¤©å</div>
                                </div>
                                <div class="squad-task" data-task="translation">
                                    <div class="squad-task-title">ç¿»è¯‘è´¨é‡è¯„ä¼°</div>
                                    <div class="squad-task-meta">è¿›åº¦: 45% Â· æˆªæ­¢: 5å¤©å</div>
                                </div>
                                <div class="squad-task" data-task="register">
                                    <div class="squad-task-title">è¯­åŸŸé£æ ¼åˆ†ç±»</div>
                                    <div class="squad-task-meta">è¿›åº¦: 23% Â· æˆªæ­¢: 7å¤©å</div>
                                </div>
                            </div>
                            <div class="squads-workspace">
                                <h4 style="margin-bottom: 15px;">ğŸ”§ ä¸­è‹±åŒè¯­æ•°æ®æ ‡æ³¨å·¥ä½œåŒº</h4>
                                <p style="font-size: 13px; color: var(--text-gray); margin-bottom: 15px;">ğŸ“Œ ä»»åŠ¡è¯´æ˜ï¼šé€šè¿‡åˆ†æä¸­æ–‡è¯­æ–™ï¼Œå¸®åŠ©AIæ›´å¥½åœ°ç†è§£è‹±è¯­è¡¨è¾¾çš„è¯­ç”¨ç‰¹å¾</p>
                                <div class="data-item" id="data-item-1">
                                    <div class="data-text" style="margin-bottom: 10px;">
                                        <div style="color: var(--primary-red); font-weight: 600; margin-bottom: 8px;">ğŸ‡¨ğŸ‡³ ä¸­æ–‡åŸæ–‡ï¼š</div>
                                        æˆ‘å¯¹è¿™ä¸ªææ¡ˆè¡¨ç¤ºå¼ºçƒˆåå¯¹ï¼Œè®¤ä¸ºå®ƒå®Œå…¨å¿½è§†äº†å‘˜å·¥çš„åŸºæœ¬æƒç›Šã€‚
                                    </div>
                                    <div class="data-text" style="background: #e8f4e8; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
                                        <div style="color: #28a745; font-weight: 600; margin-bottom: 8px;">ğŸ‡¬ğŸ‡§ English Translation:</div>
                                        I strongly object to this proposal, as I believe it completely disregards the basic rights of employees.
                                    </div>
                                    <div style="font-size: 13px; color: var(--text-gray); margin-bottom: 10px;">â“ è¯·åˆ¤æ–­è‹±æ–‡ç¿»è¯‘çš„è¯­ç”¨ç‰¹å¾ï¼š</div>
                                    <div class="annotation-buttons">
                                        <button class="annotation-btn" data-label="formal">ğŸ“‹ æ­£å¼è¯­ä½“</button>
                                        <button class="annotation-btn" data-label="informal">ğŸ’¬ éæ­£å¼</button>
                                        <button class="annotation-btn" data-label="too-direct">âš ï¸ è¿‡äºç›´æ¥</button>
                                        <button class="annotation-btn" data-label="appropriate">âœ“ è¯­ç”¨å¾—ä½“</button>
                                    </div>
                                </div>
                                <div class="data-item" id="data-item-2">
                                    <div class="data-text" style="margin-bottom: 10px;">
                                        <div style="color: var(--primary-red); font-weight: 600; margin-bottom: 8px;">ğŸ‡¨ğŸ‡³ ä¸­æ–‡åŸæ–‡ï¼š</div>
                                        éº»çƒ¦æ‚¨å¸®æˆ‘æŠŠé‚£ä»½æ–‡ä»¶å‘ä¸€ä¸‹ï¼Œè°¢è°¢ï¼
                                    </div>
                                    <div class="data-text" style="background: #e8f4e8; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
                                        <div style="color: #28a745; font-weight: 600; margin-bottom: 8px;">ğŸ‡¬ğŸ‡§ English Translation:</div>
                                        Could you please send me that document? Thank you!
                                    </div>
                                    <div style="font-size: 13px; color: var(--text-gray); margin-bottom: 10px;">â“ è¯·åˆ¤æ–­è‹±æ–‡ç¿»è¯‘çš„è¯­ç”¨ç‰¹å¾ï¼š</div>
                                    <div class="annotation-buttons">
                                        <button class="annotation-btn" data-label="formal">ğŸ“‹ æ­£å¼è¯­ä½“</button>
                                        <button class="annotation-btn" data-label="informal">ğŸ’¬ éæ­£å¼</button>
                                        <button class="annotation-btn" data-label="polite">ğŸ™ ç¤¼è²Œå¾—ä½“</button>
                                        <button class="annotation-btn" data-label="needs-revision">ğŸ“ éœ€è¦ä¿®æ”¹</button>
                                    </div>
                                </div>
                                <div class="data-item" id="data-item-3">
                                    <div class="data-text" style="margin-bottom: 10px;">
                                        <div style="color: var(--primary-red); font-weight: 600; margin-bottom: 8px;">ğŸ‡¨ğŸ‡³ ä¸­æ–‡åŸæ–‡ï¼š</div>
                                        é‰´äºè´µå…¬å¸åœ¨å±¥çº¦è¿‡ç¨‹ä¸­å­˜åœ¨é‡å¤§è¿çº¦è¡Œä¸ºï¼Œæˆ‘æ–¹ä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚
                                    </div>
                                    <div class="data-text" style="background: #e8f4e8; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
                                        <div style="color: #28a745; font-weight: 600; margin-bottom: 8px;">ğŸ‡¬ğŸ‡§ English Translation:</div>
                                        In view of the material breach of contract by your company during the performance period, we reserve the right to pursue legal liability.
                                    </div>
                                    <div style="font-size: 13px; color: var(--text-gray); margin-bottom: 10px;">â“ è¯·åˆ¤æ–­è‹±æ–‡ç¿»è¯‘çš„è¯­ç”¨ç‰¹å¾ï¼š</div>
                                    <div class="annotation-buttons">
                                        <button class="annotation-btn" data-label="legal-formal">âš–ï¸ æ³•å¾‹æ­£å¼</button>
                                        <button class="annotation-btn" data-label="business">ğŸ’¼ å•†åŠ¡è¯­ä½“</button>
                                        <button class="annotation-btn" data-label="accurate">âœ“ ç¿»è¯‘å‡†ç¡®</button>
                                        <button class="annotation-btn" data-label="needs-revision">ğŸ“ éœ€è¦ä¿®æ”¹</button>
                                    </div>
                                </div>
                                <button class="submit-btn" style="width: 100%; margin-top: 20px;" onclick="submitAnnotation()">æäº¤æ ‡æ³¨ç»“æœ</button>
                            </div>
                            <div class="squads-stats">
                                <h4 style="margin-bottom: 15px;">ğŸ“Š ä¸ªäººæˆå°±</h4>
                                <div class="stat-card">
                                    <div class="stat-number" id="annotation-count">127</div>
                                    <div class="stat-label">å·²å®Œæˆæ ‡æ³¨</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" style="color: #28a745;">94.2%</div>
                                    <div class="stat-label">å‡†ç¡®ç‡</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-label" style="margin-bottom: 10px;">å½“å‰ä»»åŠ¡è¿›åº¦</div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="task-progress" style="width: 67%;"></div>
                                    </div>
                                    <div style="text-align: right; font-size: 12px; margin-top: 5px; color: var(--text-gray);">67/100</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-number" style="color: var(--accent-gold);">â­ Lv.5</div>
                                    <div class="stat-label">æ•°æ®å·¥ç¨‹å¸ˆç­‰çº§</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ‰¹æ”¹ç³»ç»Ÿé¢æ¿ -->
        <div id="correction-panel" class="product-panel">
            <div class="feature-grid">
                <!-- ä½œæ–‡æ‰¹æ”¹ä¸RLHFæ’åº -->
                <div class="feature-card full-width">
                    <div class="feature-header">
                        <h3>âœï¸ RLHFæ’åºè¯„ä¼°æœºåˆ¶</h3>
                        <p>æ‹’ç»"æ— è„‘ç‚¹åŒæ„"ï¼Œé€šè¿‡æ’åºä»»åŠ¡æ¿€æ´»æ‰¹åˆ¤æ€§æ€ç»´</p>
                    </div>
                    <div class="feature-body">
                        <div class="correction-container">
                            <div class="essay-panel">
                                <h4 style="margin-bottom: 15px;">ğŸ“ è¯·è¾“å…¥æ‚¨çš„è‹±è¯­ä½œæ–‡</h4>
                                <textarea class="essay-textarea" id="essay-input" placeholder="Dear Professor Smith,

I want to tell you that I can't come to class tomorrow because I am sick. You must give me the notes.

Thanks.">Dear Professor Smith,

I want to tell you that I can't come to class tomorrow because I am sick. You must give me the notes.

Thanks.</textarea>
                                <div class="essay-toolbar">
                                    <span class="word-count">å­—æ•°: <span id="word-count">32</span></span>
                                    <button class="submit-btn" onclick="analyzeEssay()">æäº¤æ‰¹æ”¹</button>
                                </div>
                            </div>
                            <div class="rlhf-panel">
                                <div class="rlhf-header">
                                    <div class="rlhf-title">ğŸ¯ è¯·å¯¹ä»¥ä¸‹ä¿®æ”¹å»ºè®®è¿›è¡Œæ’åº</div>
                                    <div class="rlhf-subtitle">æ‹–æ‹½å¡ç‰‡ï¼Œå°†æœ€ä½³å»ºè®®æ’åœ¨ç¬¬ä¸€ä½</div>
                                </div>
                                <div class="rlhf-cards" id="rlhf-cards">
                                    <div class="rlhf-card" data-id="1">
                                        <div class="rlhf-card-badge">A</div>
                                        <div class="rlhf-card-label">æ­£å¼å§”å©‰ç‰ˆ</div>
                                        <div class="rlhf-card-content">
                                            "I am writing to request a leave of absence from tomorrow's class due to illness. I would be most grateful if you could share the lecture notes with me."
                                        </div>
                                    </div>
                                    <div class="rlhf-card" data-id="2">
                                        <div class="rlhf-card-badge">B</div>
                                        <div class="rlhf-card-label">ç®€æ´ç›´æ¥ç‰ˆ</div>
                                        <div class="rlhf-card-content">
                                            "I need to miss class tomorrow as I'm not feeling well. Could you please send me the notes?"
                                        </div>
                                    </div>
                                    <div class="rlhf-card" data-id="3">
                                        <div class="rlhf-card-badge">C</div>
                                        <div class="rlhf-card-label">å­¦æœ¯ç¤¼è²Œç‰ˆ</div>
                                        <div class="rlhf-card-content">
                                            "I regret to inform you that I will be unable to attend tomorrow's lecture due to health reasons. Would it be possible for me to obtain the lecture materials?"
                                        </div>
                                    </div>
                                </div>
                                <div class="rlhf-confirm">
                                    <button class="submit-btn" onclick="confirmRanking()">ç¡®è®¤æ’åº</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- åŠ¨æ€èƒ½åŠ›é›·è¾¾å›¾ -->
                <div class="feature-card">
                    <div class="feature-header">
                        <h3>ğŸ“Š åŠ¨æ€èƒ½åŠ›é›·è¾¾å›¾</h3>
                        <p>æ‹’ç»"æ”¹äº†ä¹Ÿä¸é•¿è®°æ€§"ï¼Œç²¾å‡†å®šä½ä¸ªäººå¼±é¡¹</p>
                    </div>
                    <div class="feature-body">
                        <div class="radar-container">
                            <canvas id="radar-chart"></canvas>
                            <div class="radar-legend">
                                <div class="radar-legend-item">
                                    <div class="radar-legend-dot" style="background: rgba(155, 27, 48, 0.8);"></div>
                                    <span>å½“å‰æ°´å¹³</span>
                                </div>
                                <div class="radar-legend-item">
                                    <div class="radar-legend-dot" style="background: rgba(201, 162, 39, 0.8);"></div>
                                    <span>ç›®æ ‡æ°´å¹³</span>
                                </div>
                            </div>
                            <div style="margin-top: 20px; padding: 15px; background: var(--warning-bg); border-radius: 8px; border-left: 4px solid var(--accent-gold);">
                                <strong>ğŸ’¡ ä¸ªæ€§åŒ–å»ºè®®ï¼š</strong><br>
                                <span id="personal-advice">å°æ˜ï¼Œä½ çš„æ—¶æ€æŒæ¡å·²ç»å¾ˆå¥½äº†ï¼Œä½†ä»‹è¯æ­é…è¿˜æ˜¯å¼±é¡¹ã€‚ä»Šå¤©æ¨èä¸“ç»ƒä»‹è¯ä½¿ç”¨ï¼</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- çº¢é˜Ÿæµ‹è¯• -->
                <div class="feature-card">
                    <div class="feature-header">
                        <h3>ğŸ”´ çº¢é˜Ÿæµ‹è¯•</h3>
                        <p>æ‹’ç»"ç›²ä»æƒå¨"ï¼ŒåŸ¹å…»æ‰¹åˆ¤æ€§æ€ç»´</p>
                    </div>
                    <div class="feature-body">
                        <div class="redteam-container">
                            <h4 style="margin-bottom: 15px;">AIå»ºè®®ä½ è¿™æ ·ä¿®æ”¹ï¼š</h4>
                            <div class="redteam-suggestion">
                                <div class="redteam-original">"I want to tell you that..."</div>
                                <div class="redteam-revised">"I am writing to inform you that..."</div>
                            </div>
                            <p style="margin-bottom: 15px; color: var(--text-gray);">ä½ åŒæ„è¿™ä¸ªä¿®æ”¹å—ï¼Ÿå¦‚æœä¸åŒæ„ï¼Œè¯·å¤§èƒ†è´¨ç–‘AIï¼</p>
                            <div class="redteam-actions">
                                <button class="redteam-btn accept" onclick="acceptSuggestion()">âœ“ æ¥å—</button>
                                <button class="redteam-btn reject" onclick="rejectSuggestion()">âœ— æ‹’ç»</button>
                                <button class="redteam-btn debate" onclick="openDebate()">ğŸ’¬ è´¨ç–‘AI</button>
                            </div>
                            <div class="debate-panel" id="debate-panel">
                                <strong>è¯·è¯´æ˜ä½ çš„ç†ç”±ï¼š</strong>
                                <input type="text" class="debate-input" id="debate-input" placeholder="ä¾‹å¦‚ï¼šæˆ‘è®¤ä¸ºåŸå¥åœ¨æŸäº›éæ­£å¼åœºæ™¯ä¸‹ä¹Ÿæ˜¯åˆé€‚çš„...">
                                <button class="submit-btn" style="margin-top: 10px; width: 100%;" onclick="submitDebate()">æäº¤è´¨ç–‘</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- è‹±è¯­ç»“æ„åŒ–å­¦ä¹ ç³»ç»Ÿé¢æ¿ -->
        <div id="learning-panel" class="product-panel active">
            <div class="feature-grid">
                <!-- å­¦ä¹ è¿›åº¦ -->
                <div class="feature-card full-width">
                    <div class="learning-progress">
                        <div class="progress-header">
                            <span class="progress-title">ğŸ“š åŠŸèƒ½æ ‡æ³¨å­¦ä¹ è¿›åº¦</span>
                            <span class="progress-percent" id="learning-progress-percent">0%</span>
                        </div>
                        <div class="progress-track">
                            <div class="progress-fill" id="learning-progress-fill" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <!-- èŒƒæ–‡åŠŸèƒ½æ ‡æ³¨ç»ƒä¹  -->
                <div class="feature-card full-width">
                    <div class="feature-header">
                        <h3>ğŸ“ èŒƒæ–‡åŠŸèƒ½æ ‡æ³¨ç»ƒä¹ </h3>
                        <p>å­¦ä¼šç»“æ„ï¼Œä¸ç”¨æ­»è®°ç¡¬èƒŒï¼ç‚¹å‡»å¥å­ä¸ºå…¶æ ‡æ³¨åŠŸèƒ½ç±»å‹ï¼ˆIT/OI/PO/STA/EXP/EXA/CMç­‰ï¼‰</p>
                    </div>
                    <div class="feature-body">
                        <!-- èŒƒæ–‡é€‰æ‹©å™¨ -->
                        <div class="essay-selector" id="essay-selector"></div>
                        
                        <!-- åŠŸèƒ½æ ‡æ³¨å·¥å…·æ  -->
                        <div class="annotation-toolbar" id="func-toolbar"></div>
                        
                        <!-- æ§åˆ¶é€‰é¡¹ -->
                        <div style="display: flex; gap: 20px; align-items: center; margin: 20px 0; flex-wrap: wrap;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="show-answers" style="width: 18px; height: 18px; accent-color: var(--primary-red);">
                                <span>æ˜¾ç¤ºæ­£ç¡®ç­”æ¡ˆ</span>
                            </label>
                            <button class="submit-btn" onclick="location.reload()" style="padding: 8px 20px;">é‡ç½®ç»ƒä¹ </button>
                        </div>
                        
                        <!-- èŒƒæ–‡å±•ç¤ºåŒº -->
                        <div class="essay-display" id="essay-display"></div>
                    </div>
                </div>

                <!-- è¯­æ–™åº“åˆ†æï¼šè¯æ€§ç»Ÿè®¡ä¸è¯äº‘ -->
                <div class="feature-card">
                    <div class="feature-header">
                        <h3>ğŸ“Š è¯­æ–™åº“è¯æ€§åˆ†æ</h3>
                        <p>ç†è§£è¯æ€§åˆ†å¸ƒï¼ŒæŒæ¡å†™ä½œè§„å¾‹</p>
                    </div>
                    <div class="feature-body">
                        <div class="filter-toggle">
                            <div class="toggle-switch active" title="è¿‡æ»¤åœç”¨è¯"></div>
                            <span class="toggle-label">è¿‡æ»¤åœç”¨è¯ (the, a, is...)</span>
                        </div>
                        <div class="pos-stats" id="pos-stats"></div>
                    </div>
                </div>

                <!-- è¯äº‘å±•ç¤º -->
                <div class="feature-card">
                    <div class="feature-header">
                        <h3>â˜ï¸ é«˜é¢‘è¯æ±‡äº‘</h3>
                        <p>å¯è§†åŒ–æ ¸å¿ƒè¯æ±‡ï¼Œè¾…åŠ©è®°å¿†</p>
                    </div>
                    <div class="feature-body">
                        <div class="wordcloud-container" id="wordcloud"></div>
                    </div>
                </div>

                <!-- AIæ™ºèƒ½å†™ä½œæ‰“åˆ† -->
                <div class="feature-card full-width">
                    <div class="feature-header">
                        <h3>âœï¸ AIæ™ºèƒ½å†™ä½œè¯„åˆ†</h3>
                        <p>åŸºäºåŠŸèƒ½ç»“æ„(IT/OI/PO/STA/EXP/EXA/CM)çš„å®æ—¶æ‰“åˆ†ä¸åé¦ˆ</p>
                    </div>
                    <div class="feature-body">
                        <div class="writing-area">
                            <div class="writing-editor">
                                <h4 style="margin-bottom: 15px;">ğŸ“ è¯·è¾“å…¥æ‚¨çš„é›…æ€å¤§ä½œæ–‡</h4>
                                <textarea class="writing-textarea" id="writing-input" placeholder="Topic: Women are better at childcare than men therefore they should focus more on raising children and less on their working life.

Question: To what extent do you agree or disagree?

è¯·åœ¨æ­¤è¾“å…¥æ‚¨çš„ä½œæ–‡ï¼ˆè‡³å°‘250è¯ï¼‰...

æç¤ºï¼šæŒ‰ç…§ä»¥ä¸‹ç»“æ„ç»„ç»‡æ‚¨çš„æ–‡ç« ï¼š
Para 1: IT(BG+CS) â†’ OI â†’ PO
Para 2/3: STA â†’ EXP â†’ EXA (SEEæ¨¡å‹)
Para 4: CM â†’ RES â†’ SUM/LF"></textarea>
                                <div class="writing-stats">
                                    <div class="stat-item">
                                        <div class="stat-value" id="writing-word-count">0</div>
                                        <div class="stat-label">è¯æ•°</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="writing-sent-count">0</div>
                                        <div class="stat-label">å¥å­</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="writing-para-count">0</div>
                                        <div class="stat-label">æ®µè½</div>
                                    </div>
                                    <button class="submit-btn" id="analyze-btn" onclick="analyzeWriting()" style="margin-left: auto;">ğŸ¤– AIè¯„åˆ†åˆ†æ</button>
                                </div>
                            </div>
                            <div class="scoring-panel">
                                <div class="scoring-header">
                                    <div class="score-circle">
                                        <span class="score-value" id="overall-score">--</span>
                                    </div>
                                    <div class="score-label">ç»¼åˆè¯„åˆ† (Band Score)</div>
                                </div>
                                <div class="scoring-body">
                                    <h4 style="margin-bottom: 15px;">ğŸ“ˆ å„ç»´åº¦è¯„åˆ†</h4>
                                    <div id="score-dimensions">
                                        <div class="score-dimension">
                                            <div class="dimension-header">
                                                <span class="dimension-name">ç»“æ„å®Œæ•´æ€§</span>
                                                <span class="dimension-score">--/9</span>
                                            </div>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill medium" style="width: 0%"></div>
                                            </div>
                                        </div>
                                        <div class="score-dimension">
                                            <div class="dimension-header">
                                                <span class="dimension-name">è¯æ±‡ä¸°å¯Œåº¦</span>
                                                <span class="dimension-score">--/9</span>
                                            </div>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill medium" style="width: 0%"></div>
                                            </div>
                                        </div>
                                        <div class="score-dimension">
                                            <div class="dimension-header">
                                                <span class="dimension-name">è¯­æ³•å‡†ç¡®æ€§</span>
                                                <span class="dimension-score">--/9</span>
                                            </div>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill medium" style="width: 0%"></div>
                                            </div>
                                        </div>
                                        <div class="score-dimension">
                                            <div class="dimension-header">
                                                <span class="dimension-name">è¿è´¯æ€§</span>
                                                <span class="dimension-score">--/9</span>
                                            </div>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill medium" style="width: 0%"></div>
                                            </div>
                                        </div>
                                        <div class="score-dimension">
                                            <div class="dimension-header">
                                                <span class="dimension-name">è®ºè¯æ·±åº¦</span>
                                                <span class="dimension-score">--/9</span>
                                            </div>
                                            <div class="dimension-bar">
                                                <div class="dimension-fill medium" style="width: 0%"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="ai-feedback">
                                        <div class="ai-feedback">
                                            <div class="ai-feedback-title">ğŸ¤– AIè¯„ä»·</div>
                                            <div class="ai-feedback-content">è¯·è¾“å…¥ä½œæ–‡å¹¶ç‚¹å‡»"AIè¯„åˆ†åˆ†æ"æŒ‰é’®è·å–åé¦ˆ</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- ç»“æ„æ£€æµ‹ç»“æœ -->
                        <div class="structure-check" id="structure-check">
                            <h4 style="margin-bottom: 15px;">ğŸ” åŠŸèƒ½ç»“æ„æ£€æµ‹</h4>
                            <div class="structure-item">
                                <div class="structure-icon missing">?</div>
                                <span class="structure-name">è¯·æäº¤ä½œæ–‡åæŸ¥çœ‹ç»“æ„æ£€æµ‹ç»“æœ</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- åŠŸèƒ½æ ‡ç­¾è¯´æ˜å¡ç‰‡ -->
                <div class="feature-card full-width">
                    <div class="feature-header">
                        <h3>ğŸ“– åŠŸèƒ½æ ‡ç­¾è¯¦è§£ (Functional Labels)</h3>
                        <p>ç†è§£IELTSå†™ä½œçš„åŠŸèƒ½ç»“æ„ï¼ŒæŒæ¡é«˜åˆ†ä½œæ–‡çš„æ ¸å¿ƒæ¡†æ¶</p>
                    </div>
                    <div class="feature-body">
                        <div class="func-legend-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px;">
                            <!-- å¼€ç¯‡æ ‡ç­¾ -->
                            <div class="func-legend-item" style="background: rgba(102, 126, 234, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #667eea;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-IT" style="font-size: 12px;">IT</span>
                                    <strong style="color: var(--text-primary);">Introducing Topic</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">å¼•å…¥è¯é¢˜ - ç”¨äºæ–‡ç« å¼€å¤´ï¼Œå¼•å‡ºè®¨è®ºçš„ä¸»é¢˜ã€‚é€šå¸¸æ˜¯å¯¹é¢˜ç›®çš„æ”¹å†™æˆ–èƒŒæ™¯é“ºå«çš„èµ·å§‹å¥ã€‚</p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(107, 115, 255, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #6B73FF;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-BG" style="font-size: 12px;">BG</span>
                                    <strong style="color: var(--text-primary);">Background</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">èƒŒæ™¯ä¿¡æ¯ - æä¾›å†å²æˆ–ä¼ ç»ŸèƒŒæ™¯ã€‚å¸¸ç”¨ï¼š<em>Traditionally... / In the past... / Historically...</em></p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(17, 153, 142, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #11998e;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-CS" style="font-size: 12px;">CS</span>
                                    <strong style="color: var(--text-primary);">Current Situation</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">å½“å‰æƒ…å†µ - æè¿°ç°çŠ¶å˜åŒ–ã€‚å¸¸ç”¨ï¼š<em>Nowadays... / Today... / In recent years... / Currently...</em></p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(238, 156, 167, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #ee9ca7;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-OI" style="font-size: 12px;">OI</span>
                                    <strong style="color: var(--text-primary);">Others' Ideas</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">ä»–äººè§‚ç‚¹ - å¼•è¿°ä»–äººçœ‹æ³•ã€‚å¸¸ç”¨ï¼š<em>Some people believe... / Many argue that... / It is often claimed...</em></p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(139, 38, 53, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #8B2635;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-PO" style="font-size: 12px;">PO</span>
                                    <strong style="color: var(--text-primary);">Personal Opinion</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">ä¸ªäººè§‚ç‚¹ - è¡¨è¾¾è‡ªå·±ç«‹åœºã€‚å¸¸ç”¨ï¼š<em>I believe... / In my opinion... / I agree/disagree...</em></p>
                            </div>
                            
                            <!-- SEEæ¨¡å‹æ ‡ç­¾ -->
                            <div class="func-legend-item" style="background: rgba(240, 147, 251, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #f093fb;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-STA" style="font-size: 12px;">STA</span>
                                    <strong style="color: var(--text-primary);">Statement</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">è®ºç‚¹é™ˆè¿° - SEEæ¨¡å‹çš„Sã€‚ä¸»ä½“æ®µé¦–å¥ï¼Œæå‡ºè¯¥æ®µæ ¸å¿ƒè®ºç‚¹ã€‚å¸¸ç”¨ï¼š<em>Firstly... / One major advantage is...</em></p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(79, 172, 254, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #4facfe;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-EXP" style="font-size: 12px;">EXP</span>
                                    <strong style="color: var(--text-primary);">Explanation</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">è§£é‡Šè¯´æ˜ - SEEæ¨¡å‹çš„Eã€‚å¯¹è®ºç‚¹è¿›è¡Œè§£é‡Šå’Œå±•å¼€ã€‚å¸¸ç”¨ï¼š<em>This means... / In other words... / This is because...</em></p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(250, 112, 154, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #fa709a;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-EXA" style="font-size: 12px;">EXA</span>
                                    <strong style="color: var(--text-primary);">Example</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">ä¸¾ä¾‹è®ºè¯ - SEEæ¨¡å‹çš„Eã€‚ç”¨å…·ä½“ä¾‹å­æ”¯æŒè®ºç‚¹ã€‚å¸¸ç”¨ï¼š<em>For example... / For instance... / A good example is...</em></p>
                            </div>
                            
                            <!-- ç»“è®ºæ ‡ç­¾ -->
                            <div class="func-legend-item" style="background: rgba(168, 237, 234, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #a8edea;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-CM" style="font-size: 12px;">CM</span>
                                    <strong style="color: var(--text-primary);">Conclusion Marker</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">ç»“è®ºæ ‡è®° - æ ‡å¿—ç»“è®ºæ®µå¼€å§‹ã€‚å¸¸ç”¨ï¼š<em>In conclusion... / To conclude... / To sum up...</em></p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(255, 107, 107, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #ff6b6b;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-RES" style="font-size: 12px;">RES</span>
                                    <strong style="color: var(--text-primary);">Restate Position</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">é‡ç”³ç«‹åœº - é‡æ–°è¡¨æ˜è§‚ç‚¹ã€‚ç”¨ä¸åŒæªè¾é‡è¿°å¼€ç¯‡æ®µçš„ä¸ªäººè§‚ç‚¹(PO)ã€‚</p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(72, 198, 239, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #48c6ef;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-SUM" style="font-size: 12px;">SUM</span>
                                    <strong style="color: var(--text-primary);">Summary</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">æ€»ç»“æ¦‚æ‹¬ - æ¦‚æ‹¬å…¨æ–‡è¦ç‚¹æˆ–æå‡ºå»ºè®®ã€‚æ€»ç»“ä¸»ä½“æ®µçš„å…³é”®è®ºæ®ã€‚</p>
                            </div>
                            
                            <div class="func-legend-item" style="background: rgba(195, 207, 226, 0.15); padding: 16px; border-radius: 12px; border-left: 4px solid #c3cfe2;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <span class="func-tag func-LF" style="font-size: 12px;">LF</span>
                                    <strong style="color: var(--text-primary);">Looking Forward</strong>
                                </div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin: 0;">å±•æœ›æœªæ¥ - æå‡ºå±•æœ›æˆ–å»ºè®®ã€‚å¯é€‰é¡¹ï¼Œä½¿ç»“è®ºæ›´æœ‰æ·±åº¦ã€‚å¸¸ç”¨ï¼š<em>Hopefully... / It is essential that...</em></p>
                            </div>
                        </div>
                        
                        <!-- SEEæ¨¡å‹è¯´æ˜ -->
                        <div style="margin-top: 24px; padding: 20px; background: var(--glass-bg); border-radius: 12px; border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--text-primary); margin-bottom: 12px;">ğŸ“ SEEæ¨¡å‹ - æ®µè½å‘å±•é»„é‡‘æ³•åˆ™</h4>
                            <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                                <div style="flex: 1; min-width: 200px;">
                                    <strong style="color: #f093fb;">S</strong>tatement â†’ <strong style="color: #4facfe;">E</strong>xplanation â†’ <strong style="color: #fa709a;">E</strong>xample
                                </div>
                                <div style="flex: 2; min-width: 300px; color: var(--text-secondary); font-size: 13px;">
                                    æ¯ä¸ªä¸»ä½“æ®µéƒ½åº”éµå¾ªï¼šå…ˆé™ˆè¿°è§‚ç‚¹(STA)ï¼Œå†è§£é‡ŠåŸå› (EXP)ï¼Œæœ€åä¸¾ä¾‹æ”¯æŒ(EXA)ã€‚è¿™ä¸ªç»“æ„ç¡®ä¿è®ºè¯å……åˆ†ã€é€»è¾‘æ¸…æ™°ã€‚
                                </div>
                            </div>
                        </div>
                        
                        <!-- æ®µè½ç»“æ„å›¾ -->
                        <div style="margin-top: 20px; padding: 20px; background: var(--glass-bg); border-radius: 12px; border: 1px solid var(--glass-border);">
                            <h4 style="color: var(--text-primary); margin-bottom: 16px;">ğŸ“ æ ‡å‡†å››æ®µå¼ç»“æ„</h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; font-size: 13px;">
                                <div style="padding: 12px; background: rgba(102, 126, 234, 0.1); border-radius: 8px; text-align: center;">
                                    <strong>Para 1: å¼•è¨€æ®µ</strong><br>
                                    <span style="color: var(--text-muted);">IT/BG + CS â†’ OI â†’ PO</span>
                                </div>
                                <div style="padding: 12px; background: rgba(240, 147, 251, 0.1); border-radius: 8px; text-align: center;">
                                    <strong>Para 2: ä¸»ä½“æ®µ1</strong><br>
                                    <span style="color: var(--text-muted);">STA â†’ EXP â†’ EXA</span>
                                </div>
                                <div style="padding: 12px; background: rgba(79, 172, 254, 0.1); border-radius: 8px; text-align: center;">
                                    <strong>Para 3: ä¸»ä½“æ®µ2</strong><br>
                                    <span style="color: var(--text-muted);">STA â†’ EXP â†’ EXA</span>
                                </div>
                                <div style="padding: 12px; background: rgba(168, 237, 234, 0.1); border-radius: 8px; text-align: center;">
                                    <strong>Para 4: ç»“è®ºæ®µ</strong><br>
                                    <span style="color: var(--text-muted);">CM â†’ RES â†’ SUM/LF</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div><!-- å…³é—­ main-content -->
    </main>

    <!-- AIåŠ©æ‰‹æ‚¬æµ®æŒ‰é’® -->
    <button class="ai-toggle" onclick="toggleChat()">ğŸ’¬</button>

    <!-- AIå¯¹è¯æ¡† -->
    <div class="ai-chat" id="ai-chat">
        <div class="ai-chat-header">
            <span class="ai-chat-title">ğŸ¤– çŸ¥å…°AIåŠ©æ‰‹</span>
            <button class="ai-chat-close" onclick="toggleChat()">Ã—</button>
        </div>
        <div class="ai-chat-body" id="chat-body">
            <div class="ai-message bot">
                <div class="ai-bubble">ä½ å¥½ï¼æˆ‘æ˜¯çŸ¥å…°AIåŠ©æ‰‹ã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿä½ å¯ä»¥é—®æˆ‘å…³äºè¯­æ–™åº“ä½¿ç”¨ã€è¯æ±‡è¾¨ææˆ–å†™ä½œæŠ€å·§çš„é—®é¢˜ã€‚</div>
            </div>
        </div>
        <div class="ai-chat-input">
            <input type="text" id="chat-input" placeholder="è¾“å…¥ä½ çš„é—®é¢˜..." onkeypress="handleChatKeypress(event)">
            <button onclick="sendChatMessage()">å‘é€</button>
        </div>
    </div>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="footer-inner">
            <div class="footer-logo">
                <span class="logo-title" style="font-size: 24px; color: rgba(255,255,255,0.9);">çŸ¥å…°ç‰æ•°</span>
            </div>
            <p class="footer-text">
                Â© 2024 çŸ¥å…°ç‰æ•°æ™ºèƒ½è¯­è¨€æ•™è‚²å¹³å°<br>
                Zhilan Yushu Â· Intelligent Language Platform
            </p>
        </div>
    </footer>

    <!-- ä¸»é¢˜åˆ‡æ¢è„šæœ¬ -->
    <script>
        // ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
        function setTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-theme') === theme) {
                    btn.classList.add('active');
                }
            });
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('theme', theme);
            
            // æ›´æ–°liquid-glass.cssä¸­çš„æ ·å¼
            updateLiquidGlassTheme(theme);
        }
        
        // æ›´æ–°æ¶²æ€ç»ç’ƒæ ·å¼
        function updateLiquidGlassTheme(theme) {
            const root = document.documentElement;
            if (theme === 'light') {
                root.style.setProperty('--bg-gradient-start', '#f5f5f5');
                root.style.setProperty('--bg-gradient-mid', '#e8e0e4');
                root.style.setProperty('--bg-gradient-end', '#f0f0f0');
                root.style.setProperty('--glow-primary', 'rgba(139, 38, 68, 0.2)');
                root.style.setProperty('--glow-gold', 'rgba(201, 162, 39, 0.15)');
                root.style.setProperty('--glow-cyan', 'rgba(100, 181, 246, 0.1)');
            } else {
                root.style.setProperty('--bg-gradient-start', '#0f0a12');
                root.style.setProperty('--bg-gradient-mid', '#1a0f1a');
                root.style.setProperty('--bg-gradient-end', '#120810');
                root.style.setProperty('--glow-primary', 'rgba(139, 38, 68, 0.4)');
                root.style.setProperty('--glow-gold', 'rgba(255, 200, 100, 0.3)');
                root.style.setProperty('--glow-cyan', 'rgba(100, 220, 255, 0.25)');
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥ä¿å­˜çš„ä¸»é¢˜
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            setTheme(savedTheme);
        });
    </script>

    <!-- Three.js CDN - ä¼ ç»Ÿæ–¹å¼åŠ è½½ï¼Œæ”¯æŒæœ¬åœ°æ–‡ä»¶æ‰“å¼€ -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/js/controls/OrbitControls.js"></script>
    
    <script>
        // ============ 3Dè¯­ä¹‰æ˜Ÿå›¾ ============
        let scene, camera, renderer, controls;
        let wordNodes = [];
        let wordLines = [];
        let raycaster, mouse;
        let hoveredNode = null;

        // è¯æ±‡æ•°æ®åº“
        const wordDatabase = {
            'happy': {
                related: [
                    { word: 'joyful', distance: 0.15, category: 'emotion' },
                    { word: 'delighted', distance: 0.2, category: 'emotion' },
                    { word: 'pleased', distance: 0.25, category: 'emotion' },
                    { word: 'content', distance: 0.35, category: 'state' },
                    { word: 'satisfied', distance: 0.4, category: 'state' },
                    { word: 'cheerful', distance: 0.18, category: 'emotion' },
                    { word: 'glad', distance: 0.22, category: 'emotion' },
                    { word: 'elated', distance: 0.28, category: 'emotion' },
                    { word: 'thrilled', distance: 0.32, category: 'emotion' },
                    { word: 'ecstatic', distance: 0.45, category: 'emotion' }
                ]
            },
            'suggest': {
                related: [
                    { word: 'propose', distance: 0.2, category: 'action' },
                    { word: 'recommend', distance: 0.25, category: 'action' },
                    { word: 'advise', distance: 0.3, category: 'action' },
                    { word: 'urge', distance: 0.4, category: 'action' },
                    { word: 'hint', distance: 0.35, category: 'action' },
                    { word: 'imply', distance: 0.45, category: 'relation' },
                    { word: 'indicate', distance: 0.5, category: 'relation' }
                ]
            },
            'big': {
                related: [
                    { word: 'large', distance: 0.1, category: 'state' },
                    { word: 'huge', distance: 0.2, category: 'state' },
                    { word: 'enormous', distance: 0.3, category: 'state' },
                    { word: 'massive', distance: 0.35, category: 'state' },
                    { word: 'vast', distance: 0.4, category: 'state' },
                    { word: 'immense', distance: 0.45, category: 'state' },
                    { word: 'significant', distance: 0.5, category: 'relation' },
                    { word: 'substantial', distance: 0.55, category: 'relation' }
                ]
            },
            'important': {
                related: [
                    { word: 'significant', distance: 0.15, category: 'relation' },
                    { word: 'crucial', distance: 0.2, category: 'state' },
                    { word: 'essential', distance: 0.25, category: 'state' },
                    { word: 'vital', distance: 0.3, category: 'state' },
                    { word: 'critical', distance: 0.35, category: 'state' },
                    { word: 'key', distance: 0.4, category: 'relation' },
                    { word: 'fundamental', distance: 0.45, category: 'state' }
                ]
            }
        };

        // é»˜è®¤å±•ç¤ºè¯æ±‡
        const defaultWords = [
            { word: 'happy', x: 0, y: 0, z: 0, category: 'emotion', isCenter: true },
            { word: 'joyful', x: 2, y: 1, z: 0.5, category: 'emotion' },
            { word: 'delighted', x: -1.5, y: 2, z: -1, category: 'emotion' },
            { word: 'content', x: 1, y: -1.5, z: 2, category: 'state' },
            { word: 'pleased', x: -2, y: -1, z: 1, category: 'emotion' },
            { word: 'satisfied', x: 2.5, y: -0.5, z: -1.5, category: 'state' },
            { word: 'cheerful', x: -1, y: 1.5, z: 2, category: 'emotion' },
            { word: 'glad', x: 1.5, y: 2, z: -0.5, category: 'emotion' },
            { word: 'sad', x: -3, y: -2, z: -2, category: 'emotion' },
            { word: 'angry', x: 3, y: -2.5, z: 1, category: 'emotion' },
            { word: 'excited', x: 0.5, y: 2.5, z: 1.5, category: 'emotion' },
            { word: 'calm', x: -2.5, y: 0.5, z: -2, category: 'state' }
        ];

        const categoryColors = {
            'emotion': 0xff6b6b,
            'action': 0x4ecdc4,
            'state': 0xffe66d,
            'relation': 0xa855f7
        };

        // æ€§èƒ½æ¨¡å¼å¼€å…³ - é»˜è®¤ä½¿ç”¨è½»é‡æ¨¡å¼
        let performanceMode = 'light'; // 'light' = é™æ€, 'full' = 3D
        let galaxyInitialized = false;

        function initGalaxy() {
            const container = document.getElementById('semantic-galaxy');
            if (!container) return;
            
            // é»˜è®¤ä½¿ç”¨è½»é‡é™æ€æ¨¡å¼
            if (performanceMode === 'light') {
                initStaticGalaxy(container);
                return;
            }
            
            // å®Œæ•´3Dæ¨¡å¼ï¼ˆç”¨æˆ·æ‰‹åŠ¨å¯ç”¨ï¼‰
            initFull3DGalaxy(container);
        }
        
        // è½»é‡é™æ€æ¨¡å¼ - ä¸ä½¿ç”¨3Dæ¸²æŸ“
        function initStaticGalaxy(container) {
            container.innerHTML = `
                <div class="static-galaxy">
                    <div class="galaxy-stars"></div>
                    <div class="galaxy-nodes">
                        ${defaultWords.map((w, i) => `
                            <div class="galaxy-node" style="
                                left: ${50 + w.x * 8}%;
                                top: ${50 + w.y * 8}%;
                                --node-color: ${getCSSColor(w.category)};
                                animation-delay: ${i * 0.1}s;
                            " data-word="${w.word}" data-category="${w.category}">
                                <span class="node-dot"></span>
                                <span class="node-label">${w.word}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="galaxy-toggle">
                        <button onclick="enable3DMode()" class="enable-3d-btn">ğŸŒŒ å¯ç”¨3Dæ¨¡å¼</button>
                    </div>
                </div>
            `;
            
            // æ·»åŠ é™æ€æ¨¡å¼æ ·å¼
            if (!document.getElementById('static-galaxy-styles')) {
                const style = document.createElement('style');
                style.id = 'static-galaxy-styles';
                style.textContent = `
                    .static-galaxy {
                        width: 100%;
                        height: 100%;
                        background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 50%, #0f0f23 100%);
                        border-radius: 12px;
                        position: relative;
                        overflow: hidden;
                    }
                    .galaxy-stars {
                        position: absolute;
                        inset: 0;
                        background-image: 
                            radial-gradient(2px 2px at 20px 30px, white, transparent),
                            radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
                            radial-gradient(1px 1px at 90px 40px, white, transparent),
                            radial-gradient(2px 2px at 130px 80px, rgba(255,255,255,0.6), transparent),
                            radial-gradient(1px 1px at 160px 120px, white, transparent);
                        background-size: 200px 200px;
                        opacity: 0.5;
                    }
                    .galaxy-nodes {
                        position: absolute;
                        inset: 0;
                    }
                    .galaxy-node {
                        position: absolute;
                        transform: translate(-50%, -50%);
                        cursor: pointer;
                        transition: transform 0.3s ease;
                    }
                    .galaxy-node:hover {
                        transform: translate(-50%, -50%) scale(1.2);
                        z-index: 10;
                    }
                    .node-dot {
                        display: block;
                        width: 12px;
                        height: 12px;
                        background: var(--node-color, #ff6b6b);
                        border-radius: 50%;
                        box-shadow: 0 0 10px var(--node-color, #ff6b6b);
                        margin: 0 auto;
                    }
                    .node-label {
                        display: block;
                        color: white;
                        font-size: 11px;
                        text-align: center;
                        margin-top: 4px;
                        text-shadow: 0 1px 3px rgba(0,0,0,0.8);
                    }
                    .galaxy-toggle {
                        position: absolute;
                        bottom: 10px;
                        right: 10px;
                    }
                    .enable-3d-btn {
                        padding: 8px 16px;
                        background: rgba(255,255,255,0.1);
                        border: 1px solid rgba(255,255,255,0.2);
                        color: rgba(255,255,255,0.7);
                        border-radius: 8px;
                        cursor: pointer;
                        font-size: 12px;
                        transition: all 0.2s;
                    }
                    .enable-3d-btn:hover {
                        background: rgba(255,255,255,0.2);
                        color: white;
                    }
                `;
                document.head.appendChild(style);
            }
            
            galaxyInitialized = true;
        }
        
        function getCSSColor(category) {
            const colors = {
                'emotion': '#ff6b6b',
                'action': '#4ecdc4',
                'state': '#ffe66d',
                'relation': '#a855f7'
            };
            return colors[category] || '#ffffff';
        }
        
        // å¯ç”¨å®Œæ•´3Dæ¨¡å¼
        function enable3DMode() {
            performanceMode = 'full';
            const container = document.getElementById('semantic-galaxy');
            container.innerHTML = '';
            initFull3DGalaxy(container);
        }
        
        // å®Œæ•´3Dæ¨¡å¼ï¼ˆåŸæ¥çš„ä»£ç ï¼‰
        function initFull3DGalaxy(container) {
            const width = container.clientWidth;
            const height = container.clientHeight;

            // åœºæ™¯
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a0a1a);

            // ç›¸æœº
            camera = new THREE.PerspectiveCamera(60, width / height, 0.1, 1000);
            camera.position.set(5, 4, 8);

            // æ¸²æŸ“å™¨ - æ€§èƒ½ä¼˜åŒ–
            renderer = new THREE.WebGLRenderer({ 
                antialias: false,
                powerPreference: 'low-power',
                alpha: false
            });
            renderer.setSize(width, height);
            renderer.setPixelRatio(1); // å›ºå®šåƒç´ æ¯”ä¸º1
            container.appendChild(renderer.domElement);

            // æ§åˆ¶å™¨ - ä½¿ç”¨THREE.OrbitControlsï¼ˆä¼ ç»ŸCDNåŠ è½½æ–¹å¼ï¼‰
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = false; // ç¦ç”¨é˜»å°¼å‡å°‘è®¡ç®—
            controls.autoRotate = true;
            controls.autoRotateSpeed = 0.3;

            // å…‰çº¿æŠ•å°„
            raycaster = new THREE.Raycaster();
            mouse = new THREE.Vector2();

            // ç®€åŒ–ç‰ˆæ˜Ÿç©º
            addStarField();
            createWordNodes(defaultWords);
            createConnections();

            container.addEventListener('mousemove', onMouseMove);
            window.addEventListener('resize', onWindowResize);

            galaxyInitialized = true;
            animate(0);
        }

        function addStarField() {
            const starsGeometry = new THREE.BufferGeometry();
            const starsMaterial = new THREE.PointsMaterial({
                color: 0xffffff,
                size: 0.02,
                transparent: true,
                opacity: 0.8
            });

            const starsVertices = [];
            for (let i = 0; i < 500; i++) {  // å‡å°‘æ˜Ÿæ˜Ÿæ•°é‡ 2000 -> 500
                const x = (Math.random() - 0.5) * 100;
                const y = (Math.random() - 0.5) * 100;
                const z = (Math.random() - 0.5) * 100;
                starsVertices.push(x, y, z);
            }

            starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
            const starField = new THREE.Points(starsGeometry, starsMaterial);
            scene.add(starField);
        }

        function createWordNodes(words) {
            // æ¸…é™¤ç°æœ‰èŠ‚ç‚¹
            wordNodes.forEach(node => scene.remove(node));
            wordNodes = [];

            words.forEach(wordData => {
                // é™ä½å‡ ä½•ä½“ç»†èŠ‚ 32 -> 12
                const geometry = new THREE.SphereGeometry(wordData.isCenter ? 0.25 : 0.15, 12, 12);
                const color = categoryColors[wordData.category] || 0xffffff;
                const material = new THREE.MeshBasicMaterial({
                    color: color,
                    transparent: true,
                    opacity: 0.9
                });
                const sphere = new THREE.Mesh(geometry, material);
                sphere.position.set(wordData.x, wordData.y, wordData.z);
                sphere.userData = { word: wordData.word, category: wordData.category };

                // ç®€åŒ–å‘å…‰æ•ˆæœ
                const glowGeometry = new THREE.SphereGeometry(wordData.isCenter ? 0.35 : 0.22, 8, 8);
                const glowMaterial = new THREE.MeshBasicMaterial({
                    color: color,
                    transparent: true,
                    opacity: 0.3
                });
                const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                sphere.add(glow);

                // æ·»åŠ æ–‡å­—æ ‡ç­¾
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.width = 256;
                canvas.height = 64;
                context.fillStyle = 'white';
                context.font = 'bold 24px Arial';
                context.textAlign = 'center';
                context.fillText(wordData.word, 128, 40);

                const texture = new THREE.CanvasTexture(canvas);
                const spriteMaterial = new THREE.SpriteMaterial({ map: texture, transparent: true });
                const sprite = new THREE.Sprite(spriteMaterial);
                sprite.position.set(0, 0.4, 0);
                sprite.scale.set(1.5, 0.4, 1);
                sphere.add(sprite);

                scene.add(sphere);
                wordNodes.push(sphere);
            });
        }

        function createConnections() {
            // æ¸…é™¤ç°æœ‰è¿çº¿
            wordLines.forEach(line => scene.remove(line));
            wordLines = [];

            // åˆ›å»ºè¿æ¥çº¿ï¼ˆåŸºäºè·ç¦»ï¼‰
            for (let i = 0; i < wordNodes.length; i++) {
                for (let j = i + 1; j < wordNodes.length; j++) {
                    const distance = wordNodes[i].position.distanceTo(wordNodes[j].position);
                    if (distance < 4) {
                        const points = [wordNodes[i].position, wordNodes[j].position];
                        const geometry = new THREE.BufferGeometry().setFromPoints(points);
                        const material = new THREE.LineBasicMaterial({
                            color: 0x4a9eff,
                            transparent: true,
                            opacity: Math.max(0.1, 0.5 - distance * 0.1)
                        });
                        const line = new THREE.Line(geometry, material);
                        scene.add(line);
                        wordLines.push(line);
                    }
                }
            }
        }

        function onMouseMove(event) {
            const container = document.getElementById('semantic-galaxy');
            const rect = container.getBoundingClientRect();
            mouse.x = ((event.clientX - rect.left) / container.clientWidth) * 2 - 1;
            mouse.y = -((event.clientY - rect.top) / container.clientHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(wordNodes);

            const tooltip = document.getElementById('node-tooltip');

            if (intersects.length > 0) {
                const node = intersects[0].object;
                if (node.userData.word) {
                    tooltip.innerHTML = `
                        <h4>${node.userData.word}</h4>
                        <p>ç±»åˆ«: ${getCategoryName(node.userData.category)}</p>
                        <p>ç‚¹å‡»æŸ¥çœ‹æ›´å¤šç›¸å…³è¯æ±‡</p>
                    `;
                    tooltip.style.display = 'block';
                    tooltip.style.left = (event.clientX - container.getBoundingClientRect().left + 15) + 'px';
                    tooltip.style.top = (event.clientY - container.getBoundingClientRect().top + 15) + 'px';
                    hoveredNode = node;
                }
            } else {
                tooltip.style.display = 'none';
                hoveredNode = null;
            }
        }

        function getCategoryName(category) {
            const names = {
                'emotion': 'æƒ…æ„Ÿè¯æ±‡',
                'action': 'åŠ¨ä½œè¯æ±‡',
                'state': 'çŠ¶æ€è¯æ±‡',
                'relation': 'å…³ç³»è¯æ±‡'
            };
            return names[category] || category;
        }

        function onWindowResize() {
            const container = document.getElementById('semantic-galaxy');
            if (!container) return;
            const width = container.clientWidth;
            const height = container.clientHeight;
            camera.aspect = width / height;
            camera.updateProjectionMatrix();
            renderer.setSize(width, height);
        }

        // æ€§èƒ½ä¼˜åŒ–å˜é‡
        let lastFrameTime = 0;
        const targetFPS = 30; // é™åˆ¶å¸§ç‡ä¸º30fps
        const frameInterval = 1000 / targetFPS;
        let isGalaxyVisible = true;
        let animationId = null;

        function animate(currentTime) {
            animationId = requestAnimationFrame(animate);
            
            // å¦‚æœé¡µé¢ä¸å¯è§æˆ–ç»„ä»¶éšè—ï¼Œè·³è¿‡æ¸²æŸ“
            if (document.hidden || !isGalaxyVisible) return;
            
            // å¸§ç‡é™åˆ¶
            const deltaTime = currentTime - lastFrameTime;
            if (deltaTime < frameInterval) return;
            lastFrameTime = currentTime - (deltaTime % frameInterval);
            
            controls.update();
            
            // ç®€åŒ–èŠ‚ç‚¹åŠ¨ç”» - é™ä½é¢‘ç‡
            if (Math.floor(currentTime / 100) % 3 === 0) {
                wordNodes.forEach((node, index) => {
                    const scale = 1 + Math.sin(currentTime * 0.001 + index) * 0.05;
                    node.scale.set(scale, scale, scale);
                });
            }

            renderer.render(scene, camera);
        }
        
        // å¯è§æ€§æ£€æµ‹ - å½“é¡µé¢ä¸å¯è§æ—¶æš‚åœæ¸²æŸ“
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && animationId) {
                // é¡µé¢éšè—æ—¶ä¸éœ€è¦åšä»€ä¹ˆï¼Œanimateå‡½æ•°ä¼šè‡ªåŠ¨è·³è¿‡æ¸²æŸ“
            }
        });
        
        // æ£€æµ‹3Dç»„ä»¶æ˜¯å¦åœ¨è§†å£ä¸­
        const galaxyObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                isGalaxyVisible = entry.isIntersecting;
            });
        }, { threshold: 0.1 });
        
        // åˆå§‹åŒ–æ—¶è§‚å¯Ÿè¯­ä¹‰æ˜Ÿå›¾å®¹å™¨
        setTimeout(() => {
            const galaxyContainer = document.getElementById('semantic-galaxy');
            if (galaxyContainer) {
                galaxyObserver.observe(galaxyContainer);
            }
        }, 1000);

        function searchWord() {
            const input = document.getElementById('word-search').value.toLowerCase().trim();
            if (!input) return;

            const wordData = wordDatabase[input];
            if (wordData) {
                const newWords = [{ word: input, x: 0, y: 0, z: 0, category: 'emotion', isCenter: true }];
                
                wordData.related.forEach((related, index) => {
                    const angle = (index / wordData.related.length) * Math.PI * 2;
                    const radius = 2 + related.distance * 5;
                    newWords.push({
                        word: related.word,
                        x: Math.cos(angle) * radius + (Math.random() - 0.5),
                        y: Math.sin(angle) * radius * 0.5 + (Math.random() - 0.5),
                        z: (Math.random() - 0.5) * 3,
                        category: related.category
                    });
                });

                createWordNodes(newWords);
                createConnections();
                
                // é‡ç½®ç›¸æœºä½ç½®
                camera.position.set(5, 4, 8);
                controls.target.set(0, 0, 0);
            } else {
                alert('æš‚æœªæ”¶å½•è¯¥è¯æ±‡ï¼Œè¯·å°è¯•ï¼šhappy, suggest, big, important');
            }
        }

        // ============ RAGæ™ºèƒ½æ•™å­¦å¼•æ“ ============
        const ragDatabase = {
            'suggest': {
                academic: {
                    usage: 'åœ¨å­¦æœ¯å†™ä½œä¸­ï¼Œ"suggest" å¸¸ç”¨äºè¡¨è¾¾è°¨æ…çš„æ¨æ–­æˆ–å‡è®¾',
                    example: 'The findings suggest that climate change has a significant impact on biodiversity.',
                    alternatives: ['indicate', 'imply', 'demonstrate'],
                    formality: 'ä¸­æ€§åæ­£å¼'
                },
                business: {
                    usage: 'åœ¨å•†åŠ¡åœºæ™¯ä¸­ï¼Œ"suggest" è¯­æ°”è¾ƒä¸ºå§”å©‰ï¼Œé€‚åˆæå‡ºå»ºè®®è€Œéç›´æ¥è¦æ±‚',
                    example: 'I would suggest scheduling a follow-up meeting next week.',
                    alternatives: ['recommend', 'propose', 'advise'],
                    formality: 'æ­£å¼'
                },
                legal: {
                    usage: 'æ³•å¾‹æ–‡ä¹¦ä¸­è¾ƒå°‘ä½¿ç”¨"suggest"ï¼Œå› å…¶è¯­ä¹‰æ¨¡ç³Šï¼Œå»ºè®®ä½¿ç”¨æ›´ç²¾ç¡®çš„è¡¨è¾¾',
                    example: 'ä¸æ¨èåœ¨æ³•å¾‹æ¡æ¬¾ä¸­ä½¿ç”¨',
                    alternatives: ['stipulate', 'mandate', 'require'],
                    formality: 'éœ€é¿å…ä½¿ç”¨'
                }
            },
            'propose': {
                academic: {
                    usage: '"propose" åœ¨å­¦æœ¯å†™ä½œä¸­ç”¨äºæ­£å¼æå‡ºç†è®ºã€æ–¹æ³•æˆ–å‡è®¾',
                    example: 'This paper proposes a novel framework for analyzing social networks.',
                    alternatives: ['put forward', 'advance', 'present'],
                    formality: 'æ­£å¼'
                },
                business: {
                    usage: 'å•†åŠ¡åœºæ™¯ä¸­ï¼Œ"propose" æ¯” "suggest" æ›´æ­£å¼ï¼Œå¸¸ç”¨äºé‡è¦ææ¡ˆ',
                    example: 'We propose a strategic partnership to expand market reach.',
                    alternatives: ['recommend', 'submit', 'offer'],
                    formality: 'é«˜åº¦æ­£å¼'
                }
            }
        };

        function analyzeRAG() {
            const input = document.getElementById('rag-input').value.toLowerCase().trim();
            const activeOption = document.querySelector('.rag-option.active');
            const register = activeOption ? activeOption.dataset.register : 'academic';

            if (!input) {
                alert('è¯·è¾“å…¥éœ€è¦åˆ†æçš„è¯æ±‡æˆ–çŸ­è¯­');
                return;
            }

            const resultsContainer = document.getElementById('rag-results');
            let foundWord = null;

            // æŸ¥æ‰¾åŒ¹é…çš„è¯æ±‡
            Object.keys(ragDatabase).forEach(word => {
                if (input.includes(word)) {
                    foundWord = word;
                }
            });

            if (foundWord && ragDatabase[foundWord][register]) {
                const data = ragDatabase[foundWord][register];
                resultsContainer.innerHTML = `
                    <div class="rag-result-card">
                        <div class="rag-result-title">ğŸ“– è¯æ±‡åˆ†æ: ${foundWord}</div>
                        <p><strong>è¯­åŸŸï¼š</strong>${getRegisterName(register)}</p>
                        <p><strong>ç”¨æ³•è¯´æ˜ï¼š</strong>${data.usage}</p>
                        <p><strong>æ­£å¼ç¨‹åº¦ï¼š</strong>${data.formality}</p>
                    </div>
                    <div class="rag-result-card">
                        <div class="rag-result-title">ğŸ“ ä¾‹å¥å±•ç¤º</div>
                        <div class="rag-example">${data.example}</div>
                    </div>
                    <div class="rag-result-card">
                        <div class="rag-result-title">ğŸ”„ æ›¿æ¢å»ºè®®</div>
                        <p>åœ¨${getRegisterName(register)}è¯­å¢ƒä¸‹ï¼Œæ‚¨ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ï¼š</p>
                        <div style="display: flex; gap: 10px; margin-top: 10px; flex-wrap: wrap;">
                            ${data.alternatives.map(alt => `<span style="background: var(--bg-light); padding: 5px 12px; border-radius: 15px;">${alt}</span>`).join('')}
                        </div>
                    </div>
                `;
            } else {
                resultsContainer.innerHTML = `
                    <div class="rag-result-card">
                        <div class="rag-result-title">ğŸ” åˆ†æç»“æœ</div>
                        <p>å·²åˆ†æè¾“å…¥å†…å®¹ï¼š"${input}"</p>
                        <p>å½“å‰è¯­åŸŸï¼š${getRegisterName(register)}</p>
                        <p style="margin-top: 10px; color: var(--text-gray);">
                            æç¤ºï¼šç³»ç»Ÿç›®å‰æ”¯æŒåˆ†æ "suggest"ã€"propose" ç­‰å¸¸ç”¨è¯æ±‡ã€‚
                            æ›´å¤šè¯æ±‡æ­£åœ¨æŒç»­æ‰©å……ä¸­...
                        </p>
                    </div>
                `;
            }
        }

        function getRegisterName(register) {
            const names = {
                'academic': 'å­¦æœ¯å†™ä½œ',
                'business': 'å•†åŠ¡ä¿¡å‡½',
                'legal': 'æ³•å¾‹æ–‡ä¹¦',
                'casual': 'æ—¥å¸¸å¯¹è¯',
                'news': 'æ–°é—»æŠ¥é“'
            };
            return names[register] || register;
        }

        // RAGé€‰é¡¹ç‚¹å‡»
        document.querySelectorAll('.rag-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.rag-option').forEach(o => o.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // ============ Squadsæ•°æ®å·¥å‚ ============
        let annotationCount = 127;

        function submitAnnotation() {
            // æ£€æŸ¥æ˜¯å¦æœ‰é€‰ä¸­çš„æ ‡æ³¨
            const selectedBtns = document.querySelectorAll('.annotation-btn.selected');
            if (selectedBtns.length === 0) {
                alert('è¯·å…ˆé€‰æ‹©æ ‡æ³¨æ ‡ç­¾');
                return;
            }

            // æ›´æ–°ç»Ÿè®¡
            annotationCount++;
            document.getElementById('annotation-count').textContent = annotationCount;

            // æ›´æ–°è¿›åº¦
            const currentProgress = parseInt(document.getElementById('task-progress').style.width);
            const newProgress = Math.min(currentProgress + 2, 100);
            document.getElementById('task-progress').style.width = newProgress + '%';

            // æ¸…é™¤é€‰æ‹©
            selectedBtns.forEach(btn => btn.classList.remove('selected'));

            // æ˜¾ç¤ºæˆåŠŸæç¤º
            alert('æ ‡æ³¨å·²æäº¤ï¼æ‚¨è·å¾—äº† +10 ç»éªŒå€¼');
        }

        // æ ‡æ³¨æŒ‰é’®ç‚¹å‡»
        document.querySelectorAll('.annotation-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const parent = this.closest('.data-item');
                parent.querySelectorAll('.annotation-btn').forEach(b => b.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        // ä»»åŠ¡åˆ‡æ¢
        document.querySelectorAll('.squad-task').forEach(task => {
            task.addEventListener('click', function() {
                document.querySelectorAll('.squad-task').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // ============ RLHFæ’åº ============
        function initSortable() {
            const container = document.getElementById('rlhf-cards');
            if (container && typeof Sortable !== 'undefined') {
                new Sortable(container, {
                    animation: 150,
                    ghostClass: 'dragging',
                    onEnd: function() {
                        updateCardBadges();
                    }
                });
            }
        }

        function updateCardBadges() {
            const cards = document.querySelectorAll('#rlhf-cards .rlhf-card');
            const badges = ['1', '2', '3'];
            cards.forEach((card, index) => {
                card.querySelector('.rlhf-card-badge').textContent = badges[index];
            });
        }

        function confirmRanking() {
            const cards = document.querySelectorAll('#rlhf-cards .rlhf-card');
            const ranking = Array.from(cards).map(card => card.dataset.id);
            
            let feedback = '';
            if (ranking[0] === '1') {
                feedback = 'å¾ˆå¥½ï¼åœ¨ç»™æ•™æˆå†™é‚®ä»¶æ—¶ï¼Œä½¿ç”¨æ­£å¼å§”å©‰çš„è¯­æ°”ç¡®å®æ˜¯æœ€ä½³é€‰æ‹©ã€‚è¿™å±•ç¤ºäº†ä½ å¯¹è¯­ç”¨å­¦çš„è‰¯å¥½ç†è§£ï¼';
            } else if (ranking[0] === '3') {
                feedback = 'ä¸é”™çš„é€‰æ‹©ï¼å­¦æœ¯ç¤¼è²Œç‰ˆç¡®å®éå¸¸æ­£å¼ã€‚ä½†åœ¨æ—¥å¸¸å¸ˆç”Ÿæ²Ÿé€šä¸­ï¼Œå¯èƒ½ç•¥æ˜¾ç”Ÿç¡¬ã€‚æ­£å¼å§”å©‰ç‰ˆå¯èƒ½æ›´è‡ªç„¶ã€‚';
            } else {
                feedback = 'ç®€æ´ç›´æ¥ç‰ˆè™½ç„¶æ¸…æ™°ï¼Œä½†å¯¹æ•™æˆæ¥è¯´å¯èƒ½ä¸å¤Ÿç¤¼è²Œã€‚å»ºè®®åœ¨æ­£å¼åœºåˆä½¿ç”¨æ›´å§”å©‰çš„è¡¨è¾¾æ–¹å¼ã€‚';
            }
            
            alert(feedback);
        }

        // ============ é›·è¾¾å›¾ ============
        let radarChart;

        function initRadarChart() {
            const ctx = document.getElementById('radar-chart');
            if (!ctx) return;

            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['è¯æ±‡ä¸°å¯Œåº¦', 'è¯­æ³•å‡†ç¡®æ€§', 'å¥å¼å¤šæ ·æ€§', 'è¯­ç”¨å¾—ä½“æ€§', 'é€»è¾‘è¿è´¯æ€§', 'ä»‹è¯æ­é…'],
                    datasets: [{
                        label: 'å½“å‰æ°´å¹³',
                        data: [75, 88, 65, 55, 70, 45],
                        fill: true,
                        backgroundColor: 'rgba(155, 27, 48, 0.2)',
                        borderColor: 'rgba(155, 27, 48, 0.8)',
                        pointBackgroundColor: 'rgba(155, 27, 48, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(155, 27, 48, 1)'
                    }, {
                        label: 'ç›®æ ‡æ°´å¹³',
                        data: [85, 90, 80, 80, 85, 75],
                        fill: true,
                        backgroundColor: 'rgba(201, 162, 39, 0.2)',
                        borderColor: 'rgba(201, 162, 39, 0.8)',
                        pointBackgroundColor: 'rgba(201, 162, 39, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(201, 162, 39, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0, 0, 0, 0.1)' },
                            grid: { color: 'rgba(0, 0, 0, 0.1)' },
                            pointLabels: { font: { size: 12 } },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }

        // ============ ä½œæ–‡åˆ†æ ============
        function analyzeEssay() {
            const text = document.getElementById('essay-input').value;
            if (!text.trim()) {
                alert('è¯·è¾“å…¥ä½œæ–‡å†…å®¹');
                return;
            }
            
            // æ›´æ–°é›·è¾¾å›¾æ•°æ®
            if (radarChart) {
                radarChart.data.datasets[0].data = [72, 85, 60, 50, 68, 42];
                radarChart.update();
            }

            // æ›´æ–°ä¸ªæ€§åŒ–å»ºè®®
            document.getElementById('personal-advice').innerHTML = 
                'æ£€æµ‹åˆ°æ‚¨çš„é‚®ä»¶è¯­æ°”è¿‡äºç›´æ¥ã€‚"You must give me the notes" å¬èµ·æ¥åƒæ˜¯å‘½ä»¤ï¼Œå»ºè®®æ”¹ä¸º "Would it be possible to..." çš„è¯·æ±‚å¥å¼ã€‚';

            alert('åˆ†æå®Œæˆï¼è¯·æŸ¥çœ‹å³ä¾§çš„RLHFæ’åºä»»åŠ¡å’Œä¸‹æ–¹çš„èƒ½åŠ›é›·è¾¾å›¾ã€‚');
        }

        // å­—æ•°ç»Ÿè®¡
        document.getElementById('essay-input')?.addEventListener('input', function() {
            const words = this.value.trim().split(/\s+/).filter(w => w.length > 0);
            document.getElementById('word-count').textContent = words.length;
        });

        // ============ çº¢é˜Ÿæµ‹è¯• ============
        function acceptSuggestion() {
            alert('å·²æ¥å—AIå»ºè®®ã€‚è®°ä½ï¼šåœ¨æ­£å¼åœºåˆï¼Œ"I am writing to inform you" æ¯” "I want to tell you" æ›´ä¸“ä¸šã€‚');
        }

        function rejectSuggestion() {
            alert('ä½ é€‰æ‹©äº†æ‹’ç»ã€‚æ€è€ƒä¸€ä¸‹ï¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹åŸå¥å¯èƒ½æ›´åˆé€‚ï¼Ÿ');
        }

        function openDebate() {
            const panel = document.getElementById('debate-panel');
            panel.classList.toggle('active');
        }

        function submitDebate() {
            const input = document.getElementById('debate-input').value;
            if (!input.trim()) {
                alert('è¯·è¾“å…¥ä½ çš„ç†ç”±');
                return;
            }
            
            alert(`ä½ çš„è§‚ç‚¹å·²è®°å½•ï¼š"${input}"\n\nAIå›å¤ï¼šä½ æå‡ºäº†ä¸€ä¸ªæœ‰è¶£çš„è§‚ç‚¹ï¼ç¡®å®ï¼Œåœ¨æå…¶ç†Ÿæ‚‰çš„å¸ˆç”Ÿå…³ç³»ä¸­ï¼Œè¿‡äºæ­£å¼çš„è¡¨è¾¾åè€Œå¯èƒ½æ˜¾å¾—ç–è¿œã€‚è¯­å¢ƒåˆ¤æ–­èƒ½åŠ›æ­£æ˜¯è¯­ç”¨å­¦çš„æ ¸å¿ƒï¼`);
            document.getElementById('debate-panel').classList.remove('active');
            document.getElementById('debate-input').value = '';
        }

        // ============ AIå¯¹è¯ - æ¥å…¥é˜¿é‡Œäº‘API ============
        const AI_CHAT_CONFIG = {
            apiKey: 'REDACTED_KEY',
            model: 'qwen-turbo',
            endpoint: 'https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions'
        };
        
        let chatHistory = [];
        
        function toggleChat() {
            const chat = document.getElementById('ai-chat');
            chat.classList.toggle('active');
        }

        async function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;

            const chatBody = document.getElementById('chat-body');
            
            // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
            chatBody.innerHTML += `
                <div class="ai-message user">
                    <div class="ai-bubble">${message}</div>
                </div>
            `;
            
            // æ·»åŠ åŠ è½½æç¤º
            const loadingId = 'loading-' + Date.now();
            chatBody.innerHTML += `
                <div class="ai-message bot" id="${loadingId}">
                    <div class="ai-bubble">æ­£åœ¨æ€è€ƒ...</div>
                </div>
            `;
            chatBody.scrollTop = chatBody.scrollHeight;

            input.value = '';
            
            // è®°å½•å¯¹è¯å†å²
            chatHistory.push({ role: 'user', content: message });

            try {
                const response = await fetch(AI_CHAT_CONFIG.endpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${AI_CHAT_CONFIG.apiKey}`
                    },
                    body: JSON.stringify({
                        model: AI_CHAT_CONFIG.model,
                        messages: [
                            { 
                                role: 'system', 
                                content: `ä½ æ˜¯çŸ¥å…°AIåŠ©æ‰‹ï¼Œä¸“é—¨å¸®åŠ©å­¦ç”Ÿå­¦ä¹ è‹±è¯­å†™ä½œã€‚ä½ çš„ä¸“é•¿åŒ…æ‹¬ï¼š
1. é›…æ€/æ‰˜ç¦å†™ä½œæŒ‡å¯¼
2. åŠŸèƒ½è¯­æ³•æ•™å­¦ï¼ˆIT/BG/CS/OI/PO/STA/EXP/EXA/CM/RES/SUM/LFæ ‡æ³¨ç³»ç»Ÿï¼‰
3. è¯æ±‡è¾¨æå’Œæ­é…
4. è¯­ç”¨å­¦å’Œè¯­åŸŸåˆ†æ
5. SEEæ¨¡å‹ï¼ˆStatement-Explanation-Exampleï¼‰

è¯·ç”¨ç®€æ´ã€å‹å¥½çš„ä¸­æ–‡å›ç­”é—®é¢˜ã€‚å¦‚æœæ¶‰åŠè‹±è¯­è¯æ±‡æˆ–å¥å­ï¼Œè¯·æä¾›ä¸­è‹±å¯¹ç…§è§£é‡Šã€‚`
                            },
                            ...chatHistory.slice(-10) // ä¿ç•™æœ€è¿‘10è½®å¯¹è¯
                        ],
                        temperature: 0.7,
                        max_tokens: 800
                    })
                });

                const data = await response.json();
                const aiResponse = data.choices?.[0]?.message?.content || 'æŠ±æ­‰ï¼Œæˆ‘æš‚æ—¶æ— æ³•å›ç­”è¿™ä¸ªé—®é¢˜ã€‚';
                
                // è®°å½•AIå›å¤
                chatHistory.push({ role: 'assistant', content: aiResponse });
                
                // ç§»é™¤åŠ è½½æç¤ºå¹¶æ·»åŠ çœŸå®å›å¤
                document.getElementById(loadingId).remove();
                chatBody.innerHTML += `
                    <div class="ai-message bot">
                        <div class="ai-bubble">${aiResponse.replace(/\n/g, '<br>')}</div>
                    </div>
                `;
            } catch (error) {
                console.error('AI Chat Error:', error);
                document.getElementById(loadingId).remove();
                chatBody.innerHTML += `
                    <div class="ai-message bot">
                        <div class="ai-bubble">æŠ±æ­‰ï¼Œç½‘ç»œè¿æ¥å‡ºç°é—®é¢˜ã€‚è¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•ã€‚</div>
                    </div>
                `;
            }
            
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        // ============ äº§å“é¢æ¿åˆ‡æ¢ ============
        document.querySelectorAll('.product-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.product-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.product-panel').forEach(p => p.classList.remove('active'));
                
                this.classList.add('active');
                document.getElementById(this.dataset.panel).classList.add('active');
                
                // å¦‚æœåˆ‡æ¢åˆ°æ‰¹æ”¹ç³»ç»Ÿï¼Œç¡®ä¿é›·è¾¾å›¾å·²åˆå§‹åŒ–
                if (this.dataset.panel === 'correction-panel' && !radarChart) {
                    setTimeout(initRadarChart, 100);
                }
                
                // å¦‚æœåˆ‡æ¢åˆ°è‹±è¯­å­¦ä¹ ç³»ç»Ÿï¼Œåˆå§‹åŒ–æ¨¡å—
                if (this.dataset.panel === 'learning-panel') {
                    setTimeout(() => {
                        if (typeof initEnglishLearning === 'function') {
                            initEnglishLearning();
                        }
                    }, 100);
                }
            });
        });

        // å¯¼èˆªèœå•åˆ‡æ¢
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');
                
                const tab = this.dataset.tab;
                if (tab === 'corpus') {
                    document.querySelector('[data-panel="corpus-panel"]').click();
                } else if (tab === 'correction') {
                    document.querySelector('[data-panel="correction-panel"]').click();
                } else if (tab === 'learning') {
                    document.querySelector('[data-panel="learning-panel"]').click();
                }
            });
        });

        // ============ åˆå§‹åŒ– ============
        document.addEventListener('DOMContentLoaded', function() {
            initGalaxy();
            initRadarChart();
            initSortable();
        });

        // ============ æš´éœ²å‡½æ•°åˆ°å…¨å±€ä½œç”¨åŸŸ ============
        window.searchWord = searchWord;
        window.analyzeRAG = analyzeRAG;
        window.submitAnnotation = submitAnnotation;
        window.analyzeEssay = analyzeEssay;
        window.confirmRanking = confirmRanking;
        window.acceptSuggestion = acceptSuggestion;
        window.rejectSuggestion = rejectSuggestion;
        window.openDebate = openDebate;
        window.submitDebate = submitDebate;
        window.toggleChat = toggleChat;
        window.sendChatMessage = sendChatMessage;
        window.handleChatKeypress = handleChatKeypress;
    </script>
    
    <!-- è‹±è¯­å­¦ä¹ æ¨¡å— -->
    <script src="english-learning.js"></script>
</body>
</html>

